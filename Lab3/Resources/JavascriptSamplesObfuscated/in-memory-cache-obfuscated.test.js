var _0x1f92=['toBe','update','updates\x20the\x20cached\x20value','can\x20handle\x20promises\x20correctly','then','reports\x20errors\x20thrown\x20from\x20the\x20update\x20function','spy','An\x20update\x20error','calledWith','clear','InMemoryCache','before','after','toThrowError','get','returns\x20an\x20initial\x20value'];(function(_0x576de3,_0x389481){var _0x4cf977=function(_0x8e09ed){while(--_0x8e09ed){_0x576de3['push'](_0x576de3['shift']());}};_0x4cf977(++_0x389481);}(_0x1f92,0x7a));var _0x14a6=function(_0x9f6153,_0x40c4a1){_0x9f6153=_0x9f6153-0x0;var _0x2b8512=_0x1f92[_0x9f6153];return _0x2b8512;};import _0x3f20ea from'./in-memory-cache';import _0x13833b from'sinon';describe(_0x14a6('0x0'),()=>{let reportErrorStub;const theAnswer=0x2a;const before=_0x14a6('0x1');const after=_0x14a6('0x2');const emptyCacheValue=null;beforeEach(()=>{reportErrorStub=_0x13833b['spy']();});it('throws\x20if\x20no\x20report\x20function\x20is\x20passed\x20as\x20a\x20second\x20argument',()=>{expect(()=>_0x3f20ea(null))[_0x14a6('0x3')]('No\x20reportError\x20function\x20specified\x20for\x20this\x20in-memory-cache');});describe(_0x14a6('0x4'),()=>{it(_0x14a6('0x5'),()=>{const cache=_0x3f20ea(theAnswer,reportErrorStub);expect(cache['get']())[_0x14a6('0x6')](theAnswer);});});describe(_0x14a6('0x7'),()=>{it(_0x14a6('0x8'),()=>{const cache=_0x3f20ea(before,reportErrorStub);cache[_0x14a6('0x7')](()=>after);expect(cache[_0x14a6('0x4')]())[_0x14a6('0x6')](after);});it(_0x14a6('0x9'),done=>{const cache=_0x3f20ea(before,reportErrorStub);const promisedUpdate=()=>new Promise(resolve=>resolve(after));cache['update'](promisedUpdate)[_0x14a6('0xa')](()=>{expect(cache[_0x14a6('0x4')]())['toBe'](after);done();});});it(_0x14a6('0xb'),()=>{const reportErrorStub=_0x13833b[_0x14a6('0xc')]();const cache=_0x3f20ea(before,reportErrorStub);const updateError=new Error(_0x14a6('0xd'));const updateThatThrows=()=>{throw updateError;};cache['update'](updateThatThrows);expect(reportErrorStub[_0x14a6('0xe')](updateError))[_0x14a6('0x6')](!![]);});});describe(_0x14a6('0xf'),()=>{it('clears\x20the\x20\x20cache',()=>{expect['assertions'](0x2);const cache=_0x3f20ea(theAnswer,reportErrorStub);expect(cache[_0x14a6('0x4')]())[_0x14a6('0x6')](theAnswer);cache['clear']();expect(cache['get']())[_0x14a6('0x6')](emptyCacheValue);});});});