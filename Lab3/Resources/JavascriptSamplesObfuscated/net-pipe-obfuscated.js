var _0x4697=['repeat','ascii','createServer','connect','start','pipe','received','end','exit','writable','length','function','emit','prototype','prependListener','dest','write','once','drain','flow','bind','../common.js','net','PORT','utf','asc','buf','utf8'];(function(_0x4e6f4d,_0x23a747){var _0x4de58d=function(_0x56c2d6){while(--_0x56c2d6){_0x4e6f4d['push'](_0x4e6f4d['shift']());}};_0x4de58d(++_0x23a747);}(_0x4697,0x1b9));var _0x4ba1=function(_0x4342d6,_0x1a7e25){_0x4342d6=_0x4342d6-0x0;var _0x3d5696=_0x4697[_0x4342d6];return _0x3d5696;};// Test the speed of .pipe() with sockets
'use strict';const common=require(_0x4ba1('0x0'));const net=require(_0x4ba1('0x1'));const PORT=common[_0x4ba1('0x2')];const bench=common['createBenchmark'](main,{'len':[0x40,0x19000,0x400*0x400*0x10],'type':[_0x4ba1('0x3'),_0x4ba1('0x4'),_0x4ba1('0x5')],'dur':[0x5]});var chunk;var encoding;function main({dur,len,type}){switch(type){case _0x4ba1('0x5'):chunk=Buffer['alloc'](len,'x');break;case _0x4ba1('0x3'):encoding=_0x4ba1('0x6');chunk='Ã¼'[_0x4ba1('0x7')](len/0x2);break;case _0x4ba1('0x4'):encoding=_0x4ba1('0x8');chunk='x'[_0x4ba1('0x7')](len);break;default:throw new Error('invalid\x20type:\x20'+type);}const _0x16c9d5=new Reader();const _0x5a3324=new Writer();const _0x37f48d=net[_0x4ba1('0x9')](_0x1f1b10=>{_0x1f1b10['pipe'](_0x1f1b10);});_0x37f48d['listen'](PORT,()=>{const _0x40ea78=net[_0x4ba1('0xa')](PORT);_0x40ea78['on'](_0x4ba1('0xa'),()=>{bench[_0x4ba1('0xb')]();_0x16c9d5[_0x4ba1('0xc')](_0x40ea78);_0x40ea78[_0x4ba1('0xc')](_0x5a3324);setTimeout(()=>{const _0x44194d=_0x5a3324[_0x4ba1('0xd')]*0x2;const _0x1c73c8=_0x44194d*0x8/(0x400*0x400*0x400);bench[_0x4ba1('0xe')](_0x1c73c8);process[_0x4ba1('0xf')](0x0);},dur*0x3e8);});});}function Writer(){this['received']=0x0;this[_0x4ba1('0x10')]=!![];}Writer['prototype']['write']=function(_0x32b996,_0x14a418,_0x4a4e3c){this[_0x4ba1('0xd')]+=_0x32b996[_0x4ba1('0x11')];if(typeof _0x14a418===_0x4ba1('0x12'))_0x14a418();else if(typeof _0x4a4e3c===_0x4ba1('0x12'))_0x4a4e3c();return!![];};Writer['prototype']['on']=function(){};Writer['prototype']['once']=function(){};Writer['prototype'][_0x4ba1('0x13')]=function(){};Writer[_0x4ba1('0x14')][_0x4ba1('0x15')]=function(){};function flow(){const _0x2fd80b=this[_0x4ba1('0x16')];const _0x1ea6c6=_0x2fd80b[_0x4ba1('0x17')](chunk,encoding);if(!_0x1ea6c6)_0x2fd80b[_0x4ba1('0x18')](_0x4ba1('0x19'),this[_0x4ba1('0x1a')]);else process['nextTick'](this[_0x4ba1('0x1a')]);}function Reader(){this[_0x4ba1('0x1a')]=flow[_0x4ba1('0x1b')](this);this['readable']=!![];}Reader['prototype'][_0x4ba1('0xc')]=function(_0x2039c4){this['dest']=_0x2039c4;this[_0x4ba1('0x1a')]();return _0x2039c4;};