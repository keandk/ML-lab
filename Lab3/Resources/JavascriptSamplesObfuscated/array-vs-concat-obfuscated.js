var _0x4c99=['createBenchmark','push','allocUnsafe','createSocket','udp4','concat','send','127.0.0.1','listening','start','end','exit','bind','../common.js','dgram'];(function(_0x58b2f3,_0x2eae3a){var _0x2dd85d=function(_0xcb9393){while(--_0xcb9393){_0x58b2f3['push'](_0x58b2f3['shift']());}};_0x2dd85d(++_0x2eae3a);}(_0x4c99,0x11b));var _0x3324=function(_0x2d8f05,_0x4b81bb){_0x2d8f05=_0x2d8f05-0x0;var _0x4d74cb=_0x4c99[_0x2d8f05];return _0x4d74cb;};// Test UDP send throughput with the multi buffer API against Buffer.concat
'use strict';const common=require(_0x3324('0x0'));const dgram=require(_0x3324('0x1'));const PORT=common['PORT'];const bench=common[_0x3324('0x2')](main,{'len':[0x40,0x100,0x200,0x400],'num':[0x64],'chunks':[0x1,0x2,0x4,0x8],'type':['concat','multi'],'dur':[0x5]});function main({dur,len,num,type,chunks}){const _0x1fe1d2=[];for(var _0x3d2142=0x0;_0x3d2142<chunks;_0x3d2142++){_0x1fe1d2[_0x3324('0x3')](Buffer[_0x3324('0x4')](Math['round'](len/chunks)));}var _0x478efc=0x0;const _0x2ab6f6=dgram[_0x3324('0x5')](_0x3324('0x6'));const _0x1d034e=type===_0x3324('0x7')?_0x18c059:_0x585b49;function _0x18c059(){if(_0x478efc++%num===0x0){for(var _0x3d2142=0x0;_0x3d2142<num;_0x3d2142++){_0x2ab6f6[_0x3324('0x8')](Buffer['concat'](_0x1fe1d2),PORT,'127.0.0.1',_0x1d034e);}}}function _0x585b49(){if(_0x478efc++%num===0x0){for(var _0x3d2142=0x0;_0x3d2142<num;_0x3d2142++){_0x2ab6f6['send'](_0x1fe1d2,PORT,_0x3324('0x9'),_0x1d034e);}}}_0x2ab6f6['on'](_0x3324('0xa'),()=>{bench[_0x3324('0xb')]();_0x1d034e();setTimeout(()=>{const _0x6f5f10=_0x478efc*len;const _0x5796b8=_0x6f5f10*0x8/(0x400*0x400*0x400);bench[_0x3324('0xc')](_0x5796b8);process[_0x3324('0xd')](0x0);},dur*0x3e8);});_0x2ab6f6[_0x3324('0xe')](PORT);}