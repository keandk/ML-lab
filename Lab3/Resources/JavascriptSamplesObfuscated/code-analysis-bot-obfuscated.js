var _0x4406=['Unknown\x20converter\x20','parse','resolve','GITHUB_PR_NUMBER','Missing\x20GITHUB_PR_NUMBER.\x20Example:\x204687','GITHUB_OWNER','error','Missing\x20GITHUB_OWNER.\x20Example:\x20facebook','exit','env','GITHUB_REPO','@octokit/rest','path','push','`eslint`\x20found\x20some\x20issues.\x20Run\x20`yarn\x20lint\x20--fix`\x20to\x20automatically\x20fix\x20problems.','`flow`\x20found\x20some\x20issues.','forEach','errors','message','map','descr','flow','messages','filePath','ruleId','file','**[SC','](https://github.com/koalaman/shellcheck/wiki/SC','code','):**\x20(','level','endLine','endColumn','pullRequests','get','data','head','listFiles','split','match','length','REQUEST_CHANGES','createReview','CIRCLE_CI','Code\x20analysis\x20found\x20issues,\x20but\x20the\x20review\x20cannot\x20be\x20posted\x20to\x20GitHub\x20without\x20an\x20access\x20token.','log','keys','GITHUB_TOKEN','oauth','Missing\x20GITHUB_TOKEN.\x20Example:\x205fd88b964fa214c4be2b144dc5af5d486a2f8c1e.\x20Review\x20feedback\x20with\x20code\x20analysis\x20results\x20will\x20not\x20be\x20provided\x20on\x20GitHub.','filter','patch','line','filename','**Code\x20analysis\x20results:**\x0a\x0a','resume','stdin','end','trim','ceil'];(function(_0x497407,_0x4a4041){var _0x1c95cf=function(_0x3ab65d){while(--_0x3ab65d){_0x497407['push'](_0x497407['shift']());}};_0x1c95cf(++_0x4a4041);}(_0x4406,0x16d));var _0x3573=function(_0x248285,_0x4267b9){_0x248285=_0x248285-0x0;var _0xba4f3c=_0x4406[_0x248285];return _0xba4f3c;};/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @format
 */
'use strict';if(!process['env'][_0x3573('0x0')]){console[_0x3573('0x1')](_0x3573('0x2'));process[_0x3573('0x3')](0x1);}if(!process[_0x3573('0x4')][_0x3573('0x5')]){console[_0x3573('0x1')]('Missing\x20GITHUB_REPO.\x20Example:\x20react-native');process[_0x3573('0x3')](0x1);}const octokit=require(_0x3573('0x6'))();const path=require(_0x3573('0x7'));function push(_0x3970b2,_0x4600b7,_0x25cca8){if(!_0x3970b2[_0x4600b7]){_0x3970b2[_0x4600b7]=[];}_0x3970b2[_0x4600b7][_0x3573('0x8')](_0x25cca8);}const converterSummary={'eslint':_0x3573('0x9'),'flow':_0x3573('0xa'),'shellcheck':'`shellcheck`\x20found\x20some\x20issues.'};const converters={'raw':function(_0x2468eb,_0x1156c3){for(let _0x154e23 in _0x1156c3){_0x1156c3[_0x154e23][_0x3573('0xb')](function(_0x39fa50){push(_0x2468eb,_0x154e23,_0x39fa50);});}},'flow':function(_0x4af43f,_0x131f26){if(!_0x131f26||!_0x131f26[_0x3573('0xc')]){return;}_0x131f26[_0x3573('0xc')][_0x3573('0xb')](function(_0x20da57){push(_0x4af43f,_0x20da57[_0x3573('0xd')][0x0][_0x3573('0x7')],{'message':_0x20da57[_0x3573('0xd')][_0x3573('0xe')](_0x411085=>_0x411085[_0x3573('0xf')])['join']('\x20'),'line':_0x20da57[_0x3573('0xd')][0x0]['line'],'converter':_0x3573('0x10')});});},'eslint':function(_0x26581e,_0x3f02b7){if(!_0x3f02b7){return;}_0x3f02b7['forEach'](function(_0xc5c125){_0xc5c125[_0x3573('0x11')][_0x3573('0xb')](function(_0x3c3450){push(_0x26581e,_0xc5c125[_0x3573('0x12')],{'message':_0x3c3450[_0x3573('0x13')]+':\x20'+_0x3c3450[_0x3573('0xd')],'line':_0x3c3450['line'],'converter':'eslint'});});});},'shellcheck':function(_0x4a5c3a,_0x373ab8){if(!_0x373ab8){return;}_0x373ab8[_0x3573('0xb')](function(_0x4864e7){push(_0x4a5c3a,_0x4864e7[_0x3573('0x14')],{'message':_0x3573('0x15')+_0x4864e7['code']+_0x3573('0x16')+_0x4864e7[_0x3573('0x17')]+_0x3573('0x18')+_0x4864e7[_0x3573('0x19')]+')\x20'+_0x4864e7[_0x3573('0xd')],'line':_0x4864e7['line'],'endLine':_0x4864e7[_0x3573('0x1a')],'column':_0x4864e7['column'],'endColumn':_0x4864e7[_0x3573('0x1b')],'converter':'shellcheck'});});}};function getShaFromPullRequest(_0x15840b,_0x3473b1,_0x43404a,_0x3603e2){octokit[_0x3573('0x1c')][_0x3573('0x1d')]({'owner':_0x15840b,'repo':_0x3473b1,'number':_0x43404a},(_0x7b5e0f,_0x56257a)=>{if(_0x7b5e0f){console[_0x3573('0x1')](_0x7b5e0f);return;}_0x3603e2(_0x56257a[_0x3573('0x1e')][_0x3573('0x1f')]['sha']);});}function getFilesFromPullRequest(_0x1b6627,_0x120831,_0x536d86,_0x80de30){octokit[_0x3573('0x1c')][_0x3573('0x20')]({'owner':_0x1b6627,'repo':_0x120831,'number':_0x536d86,'per_page':0x64},(_0x299c05,_0x19d013)=>{if(_0x299c05){console[_0x3573('0x1')](_0x299c05);return;}_0x80de30(_0x19d013[_0x3573('0x1e')]);});}function getLineMapFromPatch(_0x1c657){let _0x2fb688=0x0;let _0x5926bd=0x0;let _0x582f9b={};_0x1c657[_0x3573('0x21')]('\x0a')[_0x3573('0xb')](_0x371cae=>{if(_0x371cae[_0x3573('0x22')](/^@@/)){_0x5926bd=_0x371cae['match'](/\+([0-9]+)/)[0x1]-0x1;return;}_0x2fb688++;if(_0x371cae[0x0]!=='-'){_0x5926bd++;if(_0x371cae[0x0]==='+'){_0x582f9b[_0x5926bd]=_0x2fb688;}}});return _0x582f9b;}function sendReview(_0x1ca475,_0x40eeed,_0x1da3f5,_0x1c0068,_0x14ea83,_0x118d22){if(process['env']['GITHUB_TOKEN']){if(_0x118d22[_0x3573('0x23')]===0x0){return;}const _0x129c1e=_0x3573('0x24');const _0x3c054d={'owner':_0x1ca475,'repo':_0x40eeed,'number':_0x1da3f5,'commit_id':_0x1c0068,'body':_0x14ea83,'event':_0x129c1e,'comments':_0x118d22};octokit[_0x3573('0x1c')][_0x3573('0x25')](_0x3c054d,function(_0x57fb2f,_0x1e479e){if(_0x57fb2f){console[_0x3573('0x1')](_0x57fb2f);return;}});}else{if(_0x118d22[_0x3573('0x23')]===0x0){console['log']('No\x20issues\x20found.');return;}if(process[_0x3573('0x4')][_0x3573('0x26')]){console[_0x3573('0x1')](_0x3573('0x27'));process[_0x3573('0x3')](0x1);}let _0x1e0d59=_0x14ea83+'\x0a';_0x118d22['forEach'](_0x379a4a=>{_0x1e0d59+=_0x379a4a[_0x3573('0x7')]+':'+_0x379a4a['position']+':\x20'+_0x379a4a['body']+'\x0a';});console[_0x3573('0x28')](_0x1e0d59);}}function main(_0x1d6b3b,_0x105d72,_0x354201,_0x140052){if(Object[_0x3573('0x29')](_0x1d6b3b)[_0x3573('0x23')]===0x0){return;}if(process['env'][_0x3573('0x2a')]){octokit['authenticate']({'type':_0x3573('0x2b'),'token':process['env'][_0x3573('0x2a')]});}else{console[_0x3573('0x28')](_0x3573('0x2c'));}getShaFromPullRequest(_0x105d72,_0x354201,_0x140052,_0x4d7d68=>{getFilesFromPullRequest(_0x105d72,_0x354201,_0x140052,_0x1383b5=>{let _0x27fcdc=[];let _0xa657ba=[];_0x1383b5[_0x3573('0x2d')](_0x4abc42=>_0x1d6b3b[_0x4abc42['filename']])[_0x3573('0xb')](_0x576869=>{if(!_0x576869['patch']){return;}const _0x4aa892=getLineMapFromPatch(_0x576869[_0x3573('0x2e')]);_0x1d6b3b[_0x576869['filename']][_0x3573('0xb')](_0x1c234c=>{if(_0x4aa892[_0x1c234c[_0x3573('0x2f')]]){const _0x1e261b={'path':_0x576869[_0x3573('0x30')],'position':_0x4aa892[_0x1c234c[_0x3573('0x2f')]],'body':_0x1c234c[_0x3573('0xd')]};_0xa657ba['push'](_0x1c234c['converter']);_0x27fcdc[_0x3573('0x8')](_0x1e261b);}});});let _0x4d2b69=_0x3573('0x31');const _0x447377=[...new Set(_0xa657ba)];_0x447377['forEach'](_0x3b4a3d=>{_0x4d2b69+='*\x20'+converterSummary[_0x3b4a3d]+'\x0a';});sendReview(_0x105d72,_0x354201,_0x140052,_0x4d7d68,_0x4d2b69,_0x27fcdc);});});}let content='';process['stdin'][_0x3573('0x32')]();process[_0x3573('0x33')]['on'](_0x3573('0x1e'),function(_0x22e19f){content+=_0x22e19f['toString']();});process['stdin']['on'](_0x3573('0x34'),function(){let _0x435a43={};const _0x37d663=content[_0x3573('0x35')]()[_0x3573('0x21')]('\x0a');for(let _0x24c7b6=0x0;_0x24c7b6<Math[_0x3573('0x36')](_0x37d663['length']/0x2);++_0x24c7b6){const _0x40464f=converters[_0x37d663[_0x24c7b6*0x2]];if(!_0x40464f){throw new Error(_0x3573('0x37')+_0x37d663[_0x24c7b6*0x2]);}let _0x225abf;try{_0x225abf=JSON[_0x3573('0x38')](_0x37d663[_0x24c7b6*0x2+0x1]);}catch(_0x449a1f){}_0x40464f(_0x435a43,_0x225abf);}const _0x7acfd5=path[_0x3573('0x39')]('.');for(let _0x2d18b8 in _0x435a43){const _0x40243b=path['relative'](_0x7acfd5,_0x2d18b8);if(_0x40243b===_0x2d18b8){continue;}_0x435a43[_0x40243b]=_0x435a43[_0x2d18b8];delete _0x435a43[_0x2d18b8];}const _0x55825d=process['env']['GITHUB_OWNER'];const _0x31deee=process[_0x3573('0x4')][_0x3573('0x5')];if(!process['env'][_0x3573('0x3a')]){console[_0x3573('0x1')](_0x3573('0x3b'));process[_0x3573('0x3')](0x0);}const _0xbe11a9=process[_0x3573('0x4')][_0x3573('0x3a')];main(_0x435a43,_0x55825d,_0x31deee,_0xbe11a9);});