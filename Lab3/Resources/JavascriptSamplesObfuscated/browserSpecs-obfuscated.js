var _0x550c=['https://another.com/','should\x20strip\x20an\x20empty\x20hash\x20fragment','http://test.com/#','https://another.com/#foo','should\x20use\x20history.pushState\x20when\x20available','http://new.org','calls','argsFor','should\x20use\x20history.replaceState\x20when\x20available','should\x20set\x20location.href\x20when\x20pushState\x20not\x20available','http://new.org/','should\x20set\x20location.href\x20and\x20not\x20use\x20pushState\x20when\x20the\x20url\x20only\x20changed\x20in\x20the\x20hash\x20fragment\x20to\x20please\x20IE10/11','http://server/#123','http://server/#','toHaveBeenCalledWith','should\x20use\x20location.replace\x20and\x20not\x20use\x20replaceState\x20when\x20the\x20url\x20only\x20changed\x20in\x20the\x20hash\x20fragment\x20to\x20please\x20IE10/11','http://any.com','http://dontchange/','http://someNewUrl','http://server/someOtherUrlThatCausesReload','http://server/someOtherUrl','assumes\x20that\x20changes\x20to\x20location.hash\x20occur\x20in\x20sync','runs','hashchange','assign','hash','#1234','waitsFor','done','start','url\x20(with\x20ie\x2011\x20weirdnesses)','url()\x20should\x20actually\x20set\x20the\x20url,\x20even\x20if\x20IE\x2011\x20is\x20weird\x20and\x20replaces\x20HTML\x20entities\x20in\x20the\x20URL','&not','http://test.com/oauthcallback#state=xxx%3D&not-before-policy=0','%3D','http://test.com/otherView','url\x20(when\x20state\x20passed)','pushState','and','callThrough','onUrlChange','should\x20change\x20state','val1','/something','val2','should\x20allow\x20to\x20set\x20falsy\x20states\x20(except\x20`undefined`)','popstate','should\x20do\x20pushState\x20with\x20the\x20same\x20URL\x20and\x20a\x20different\x20state','val3','should\x20do\x20pushState\x20with\x20the\x20same\x20URL\x20and\x20deep\x20equal\x20but\x20referentially\x20different\x20state','should\x20not\x20do\x20pushState\x20with\x20the\x20same\x20URL\x20and\x20state\x20from\x20$browser.state()','reset','should\x20not\x20do\x20pushState\x20with\x20a\x20URL\x20using\x20relative\x20protocol','//server','should\x20not\x20do\x20pushState\x20with\x20a\x20URL\x20only\x20adding\x20a\x20trailing\x20slash\x20after\x20domain','http://server','should\x20not\x20do\x20pushState\x20with\x20a\x20URL\x20only\x20removing\x20a\x20trailing\x20slash\x20after\x20domain','should\x20do\x20pushState\x20with\x20a\x20URL\x20only\x20adding\x20a\x20trailing\x20slash\x20after\x20the\x20path','http://server/foo','http://server/foo/','should\x20do\x20pushState\x20with\x20a\x20URL\x20only\x20removing\x20a\x20trailing\x20slash\x20after\x20the\x20path','should\x20not\x20access\x20`history.state`\x20when\x20`$sniffer.history`\x20is\x20false','defineProperty','msie','should\x20return\x20history.state','should\x20return\x20the\x20same\x20state\x20object\x20in\x20subsequent\x20invocations\x20in\x20IE','should\x20forward\x20popstate\x20event\x20with\x20new\x20url\x20when\x20history\x20supported','http://server/new','should\x20forward\x20only\x20popstate\x20event\x20when\x20history\x20supported','should\x20not\x20fire\x20urlChange\x20if\x20changed\x20by\x20browser.url\x20method','state\x20handling','should\x20fire\x20onUrlChange\x20listeners\x20only\x20once\x20if\x20both\x20popstate\x20and\x20hashchange\x20triggered','should\x20stop\x20calling\x20callbacks\x20when\x20application\x20has\x20been\x20torn\x20down','$$applicationDestroyed','baseHref','head','should\x20return\x20value\x20from\x20<base\x20href>','/base/path/','should\x20return\x20\x27\x27\x20(empty\x20string)\x20if\x20no\x20<base\x20href>','http://host.com/base/path/index.html','/base/path/index.html','should\x20remove\x20domain\x20from\x20<base\x20href>\x20beginning\x20with\x20\x27//\x27','integration\x20tests\x20with\x20$location','callFake','value','$sniffer','html5Mode','update\x20$location\x20when\x20it\x20was\x20changed\x20outside\x20of\x20AngularJS\x20in\x20sync\x20','before\x20$digest\x20was\x20called','should\x20work\x20with\x20no\x20history\x20support,\x20no\x20html5Mode','$apply','path','/initialPath','http://server/#!/initialPath','http://server/#!/someTestHash','/someTestHash','should\x20work\x20with\x20history\x20support,\x20no\x20html5Mode','$digest','should\x20work\x20with\x20no\x20history\x20support,\x20with\x20html5Mode','should\x20work\x20with\x20history\x20support,\x20with\x20html5Mode','http://server/initialPath','should\x20not\x20reload\x20the\x20page\x20on\x20every\x20$digest\x20when\x20the\x20page\x20will\x20be\x20reloaded\x20due\x20to\x20url\x20rewrite\x20on\x20load','http://server/some/deep/path','toThrow','#otherHash','absUrl','http://server/#otherHash','should\x20not\x20trigger\x20`$locationChangeStart`\x20more\x20than\x20once\x20due\x20to\x20trailing\x20`#`','$locationChangeStart','$on','count','integration\x20test\x20with\x20$rootScope','should\x20not\x20interfere\x20with\x20legacy\x20browser\x20url\x20replace\x20behavior','http://notyet/','object','timeouts','document','createElement','href','http://server/','replace','setTimeout','clearTimeout','length','isUndefined','push','removeEventListener','fire','history','state','updateAsync','flushHref','replaceState','basePath','find','base','browser','log','call','info','error','MockBrowser','historyEntriesLength','toBe','location','/foo','should\x20not\x20increment\x20historyEntriesLength\x20when\x20using\x20location.replace','should\x20increment\x20historyEntriesLength\x20when\x20using\x20history.pushState','foo','should\x20not\x20increment\x20historyEntriesLength\x20when\x20using\x20history.replaceState','/bar','in\x20IE','not\x20in\x20IE','should\x20return\x20the\x20same\x20state\x20object\x20on\x20every\x20read','val','url','not','toEqual','should\x20invoke\x20callbacks\x20immediately\x20if\x20there\x20are\x20no\x20pending\x20tasks','createSpy','toHaveBeenCalled','should\x20invoke\x20callbacks\x20immediately\x20if\x20there\x20are\x20no\x20pending\x20tasks\x20(for\x20specific\x20task-type)','callbackAll','notifyWhenNoOutstandingRequests','callback','$$incOutstandingRequestCount','$$completeOutstandingRequest','should\x20invoke\x20callbacks\x20as\x20soon\x20as\x20there\x20are\x20no\x20pending\x20tasks\x20(for\x20specific\x20task-type)','toHaveBeenCalledOnce','defer','should\x20execute\x20fn\x20asynchronously\x20via\x20setTimeout','flush','should\x20update\x20outstandingRequests\x20counter','noPendingTasks','should\x20update\x20outstandingRequests\x20counter\x20(for\x20specific\x20task-type)','noPendingFooTasks','should\x20return\x20unique\x20deferId','toBeDefined','cancel','should\x20allow\x20tasks\x20to\x20be\x20canceled\x20with\x20returned\x20deferId','cancel\x20me','bar','should\x20return\x20current\x20location.href','http://test.com','http://test.com/','https://another.com'];(function(_0x436593,_0x4cc39b){var _0xb09d0e=function(_0x5a38fe){while(--_0x5a38fe){_0x436593['push'](_0x436593['shift']());}};_0xb09d0e(++_0x4cc39b);}(_0x550c,0x1e6));var _0x56ae=function(_0x21ed1b,_0x3cb4bb){_0x21ed1b=_0x21ed1b-0x0;var _0x220b9b=_0x550c[_0x21ed1b];return _0x220b9b;};'use strict';/* global getHash:true, stripHash:true */var historyEntriesLength;var sniffer={};function MockWindow(_0x4b81bb){if(typeof _0x4b81bb!==_0x56ae('0x0')){_0x4b81bb={};}var _0x36c6a6={};var _0x33748d=this[_0x56ae('0x1')]=[];var _0x5c685e=window[_0x56ae('0x2')][_0x56ae('0x3')]('a');var _0x292610=window[_0x56ae('0x2')]['createElement']('a');_0x5c685e[_0x56ae('0x4')]=_0x292610[_0x56ae('0x4')]=_0x56ae('0x5');var _0x29929c=this;var _0x5dd881=_0x4b81bb['msie'];var _0x18d5c9;historyEntriesLength=0x1;function _0x4ce2f1(_0x333808,_0x432180){return stripHash(_0x333808)+'#'+_0x432180[_0x56ae('0x6')](/^#/,'');}this[_0x56ae('0x7')]=function(_0x981158){return _0x33748d['push'](_0x981158)-0x1;};this[_0x56ae('0x8')]=function(_0x441e3a){_0x33748d[_0x441e3a]=noop;};this[_0x56ae('0x7')]['flush']=function(_0x503809){_0x503809=_0x503809||_0x33748d[_0x56ae('0x9')];while(_0x503809-->0x0)_0x33748d['shift']()();};this['addEventListener']=function(_0x39753a,_0xf81284){if(angular[_0x56ae('0xa')](_0x36c6a6[_0x39753a]))_0x36c6a6[_0x39753a]=[];_0x36c6a6[_0x39753a][_0x56ae('0xb')](_0xf81284);};this[_0x56ae('0xc')]=noop;this[_0x56ae('0xd')]=function(_0x4a4c56){forEach(_0x36c6a6[_0x4a4c56],function(_0x50dfb2){_0x50dfb2({'type':_0x4a4c56,'target':{'nodeType':0x1}});});};this['location']={get 'href'(){return _0x292610['href'];},set 'href'(_0x273d4d){_0x5c685e[_0x56ae('0x4')]=_0x273d4d;_0x29929c[_0x56ae('0xe')][_0x56ae('0xf')]=null;historyEntriesLength++;if(!_0x4b81bb[_0x56ae('0x10')])this[_0x56ae('0x11')]();},get 'hash'(){return getHash(_0x292610['href']);},set 'hash'(_0x4283ce){_0x5c685e[_0x56ae('0x4')]=_0x4ce2f1(_0x5c685e[_0x56ae('0x4')],_0x4283ce);if(!_0x4b81bb[_0x56ae('0x10')])this[_0x56ae('0x11')]();},'replace':function(_0x4d5611){_0x5c685e['href']=_0x4d5611;_0x29929c[_0x56ae('0xe')]['state']=null;if(!_0x4b81bb[_0x56ae('0x10')])this['flushHref']();},'flushHref':function(){_0x292610[_0x56ae('0x4')]=_0x5c685e[_0x56ae('0x4')];}};this['history']={'pushState':function(){this[_0x56ae('0x12')]['apply'](this,arguments);historyEntriesLength++;},'replaceState':function(_0x459eb1,_0x478723,_0x106033){_0x5c685e[_0x56ae('0x4')]=_0x106033;if(!_0x4b81bb[_0x56ae('0x10')])_0x292610[_0x56ae('0x4')]=_0x5c685e[_0x56ae('0x4')];_0x29929c[_0x56ae('0xe')][_0x56ae('0xf')]=copy(_0x459eb1);if(!_0x4b81bb[_0x56ae('0x10')])this[_0x56ae('0x11')]();},'flushHref':function(){_0x292610[_0x56ae('0x4')]=_0x5c685e['href'];}};if(!_0x5dd881){this[_0x56ae('0xe')][_0x56ae('0xf')]=null;}else{_0x18d5c9=null;Object['defineProperty'](this[_0x56ae('0xe')],'state',{'get':function(){return copy(_0x18d5c9);},'set':function(_0x588269){_0x18d5c9=_0x588269;},'configurable':!![],'enumerable':!![]});}}function MockDocument(){var _0x3a02e1=this;this[0x0]=window[_0x56ae('0x2')];this[_0x56ae('0x13')]='/';this[_0x56ae('0x14')]=function(_0x4abc77){if(_0x4abc77===_0x56ae('0x15')){return{'attr':function(_0x4abc77){if(_0x4abc77===_0x56ae('0x4')){return _0x3a02e1[_0x56ae('0x13')];}else{throw new Error(_0x4abc77);}}};}else{throw new Error(_0x4abc77);}};}describe(_0x56ae('0x16'),function(){var _0x42ac8f,_0x16b1ca,_0x5ea472,_0x59181e,_0x197ec0,_0x3a8e58;beforeEach(function(){sniffer={'history':!![]};_0x16b1ca=new MockWindow();_0x5ea472=new MockDocument();_0x3a8e58=function(_0x40c424){return new TaskTracker(_0x40c424);};_0x197ec0={'log':[],'warn':[],'info':[],'error':[]};_0x59181e={'log':function(){_0x197ec0[_0x56ae('0x17')]['push'](slice[_0x56ae('0x18')](arguments));},'warn':function(){_0x197ec0['warn'][_0x56ae('0xb')](slice['call'](arguments));},'info':function(){_0x197ec0[_0x56ae('0x19')][_0x56ae('0xb')](slice[_0x56ae('0x18')](arguments));},'error':function(){_0x197ec0[_0x56ae('0x1a')][_0x56ae('0xb')](slice[_0x56ae('0x18')](arguments));}};_0x42ac8f=new Browser(_0x16b1ca,_0x5ea472,_0x59181e,sniffer,_0x3a8e58);});describe(_0x56ae('0x1b'),function(){describe(_0x56ae('0x1c'),function(){it('should\x20increment\x20historyEntriesLength\x20when\x20setting\x20location.href',function(){expect(historyEntriesLength)[_0x56ae('0x1d')](0x1);_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]=_0x56ae('0x1f');expect(historyEntriesLength)['toBe'](0x2);});it(_0x56ae('0x20'),function(){expect(historyEntriesLength)[_0x56ae('0x1d')](0x1);_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x6')](_0x56ae('0x1f'));expect(historyEntriesLength)[_0x56ae('0x1d')](0x1);});it(_0x56ae('0x21'),function(){expect(historyEntriesLength)[_0x56ae('0x1d')](0x1);_0x16b1ca[_0x56ae('0xe')]['pushState']({'a':0x2},_0x56ae('0x22'),'/bar');expect(historyEntriesLength)[_0x56ae('0x1d')](0x2);});it(_0x56ae('0x23'),function(){expect(historyEntriesLength)[_0x56ae('0x1d')](0x1);_0x16b1ca[_0x56ae('0xe')][_0x56ae('0x12')]({'a':0x2},'foo',_0x56ae('0x24'));expect(historyEntriesLength)[_0x56ae('0x1d')](0x1);});});describe(_0x56ae('0x25'),_0x2b45ea({'msie':!![]}));describe(_0x56ae('0x26'),_0x2b45ea({'msie':![]}));function _0x2b45ea(_0x409319){return function(){it(_0x56ae('0x27'),function(){var _0x39e565=_0x409319['msie'];_0x16b1ca=new MockWindow({'msie':_0x39e565});_0x16b1ca[_0x56ae('0x1e')]['state']={'prop':_0x56ae('0x28')};_0x42ac8f=new Browser(_0x16b1ca,_0x5ea472,_0x59181e,sniffer,_0x3a8e58);_0x42ac8f[_0x56ae('0x29')](_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')],![],{'prop':'val'});if(_0x39e565){expect(_0x16b1ca[_0x56ae('0xe')][_0x56ae('0xf')])[_0x56ae('0x2a')][_0x56ae('0x1d')](_0x16b1ca['history']['state']);expect(_0x16b1ca[_0x56ae('0xe')]['state'])[_0x56ae('0x2b')](_0x16b1ca[_0x56ae('0xe')][_0x56ae('0xf')]);}else{expect(_0x16b1ca[_0x56ae('0xe')]['state'])[_0x56ae('0x1d')](_0x16b1ca[_0x56ae('0xe')][_0x56ae('0xf')]);}});};}});describe('notifyWhenNoOutstandingRequests',function(){it(_0x56ae('0x2c'),function(){var _0x1a180b=jasmine[_0x56ae('0x2d')]('callback');_0x42ac8f['notifyWhenNoOutstandingRequests'](_0x1a180b);expect(_0x1a180b)[_0x56ae('0x2e')]();});it(_0x56ae('0x2f'),function(){var _0x5adda1=jasmine[_0x56ae('0x2d')](_0x56ae('0x30'));var _0x2e1b3a=jasmine[_0x56ae('0x2d')]('callbackFoo');_0x42ac8f['$$incOutstandingRequestCount']();_0x42ac8f[_0x56ae('0x31')](_0x5adda1);_0x42ac8f[_0x56ae('0x31')](_0x2e1b3a,'foo');expect(_0x5adda1)[_0x56ae('0x2a')][_0x56ae('0x2e')]();expect(_0x2e1b3a)[_0x56ae('0x2e')]();});it('should\x20invoke\x20callbacks\x20as\x20soon\x20as\x20there\x20are\x20no\x20pending\x20tasks',function(){var _0x316c8f=jasmine[_0x56ae('0x2d')](_0x56ae('0x32'));_0x42ac8f[_0x56ae('0x33')]();_0x42ac8f[_0x56ae('0x31')](_0x316c8f);expect(_0x316c8f)[_0x56ae('0x2a')][_0x56ae('0x2e')]();_0x42ac8f[_0x56ae('0x34')](noop);expect(_0x316c8f)[_0x56ae('0x2e')]();});it(_0x56ae('0x35'),function(){var _0x2c3711=jasmine[_0x56ae('0x2d')](_0x56ae('0x30'));var _0x11ca30=jasmine[_0x56ae('0x2d')]('callbackFoo');_0x42ac8f['$$incOutstandingRequestCount']();_0x42ac8f[_0x56ae('0x33')](_0x56ae('0x22'));_0x42ac8f[_0x56ae('0x31')](_0x2c3711);_0x42ac8f[_0x56ae('0x31')](_0x11ca30,_0x56ae('0x22'));expect(_0x2c3711)[_0x56ae('0x2a')][_0x56ae('0x2e')]();expect(_0x11ca30)[_0x56ae('0x2a')][_0x56ae('0x2e')]();_0x42ac8f[_0x56ae('0x34')](noop,_0x56ae('0x22'));expect(_0x2c3711)[_0x56ae('0x2a')]['toHaveBeenCalled']();expect(_0x11ca30)[_0x56ae('0x36')]();_0x42ac8f[_0x56ae('0x34')](noop);expect(_0x2c3711)[_0x56ae('0x36')]();expect(_0x11ca30)[_0x56ae('0x36')]();});});describe(_0x56ae('0x37'),function(){it(_0x56ae('0x38'),function(){var _0x21eb86=jasmine[_0x56ae('0x2d')]('deferred');_0x42ac8f[_0x56ae('0x37')](_0x21eb86);expect(_0x21eb86)['not'][_0x56ae('0x2e')]();_0x16b1ca[_0x56ae('0x7')][_0x56ae('0x39')]();expect(_0x21eb86)['toHaveBeenCalledOnce']();});it(_0x56ae('0x3a'),function(){var _0x7f6eb1=jasmine[_0x56ae('0x2d')](_0x56ae('0x3b'));_0x42ac8f[_0x56ae('0x37')](noop);_0x42ac8f[_0x56ae('0x31')](_0x7f6eb1);expect(_0x7f6eb1)[_0x56ae('0x2a')]['toHaveBeenCalled']();_0x16b1ca[_0x56ae('0x7')][_0x56ae('0x39')]();expect(_0x7f6eb1)[_0x56ae('0x36')]();});it(_0x56ae('0x3c'),function(){var _0x409789=jasmine[_0x56ae('0x2d')](_0x56ae('0x3d'));var _0x19383e=jasmine[_0x56ae('0x2d')]('noPendingTasks');_0x42ac8f[_0x56ae('0x37')](noop,0x0,_0x56ae('0x22'));_0x42ac8f['defer'](noop,0x0,'bar');_0x42ac8f['notifyWhenNoOutstandingRequests'](_0x409789,_0x56ae('0x22'));_0x42ac8f[_0x56ae('0x31')](_0x19383e);expect(_0x409789)[_0x56ae('0x2a')][_0x56ae('0x2e')]();expect(_0x19383e)[_0x56ae('0x2a')][_0x56ae('0x2e')]();_0x16b1ca[_0x56ae('0x7')][_0x56ae('0x39')](0x1);expect(_0x409789)['toHaveBeenCalledOnce']();expect(_0x19383e)['not']['toHaveBeenCalled']();_0x16b1ca[_0x56ae('0x7')][_0x56ae('0x39')](0x1);expect(_0x409789)[_0x56ae('0x36')]();expect(_0x19383e)['toHaveBeenCalledOnce']();});it(_0x56ae('0x3e'),function(){var _0x161aa7=_0x42ac8f['defer'](noop),_0x53d113=_0x42ac8f[_0x56ae('0x37')](noop);expect(_0x161aa7)['toBeDefined']();expect(_0x53d113)[_0x56ae('0x3f')]();expect(_0x161aa7)['not'][_0x56ae('0x2b')](_0x53d113);});describe(_0x56ae('0x40'),function(){it(_0x56ae('0x41'),function(){var _0x53613a=[],_0x2f82da=_0x42ac8f['defer'](function(){_0x53613a[_0x56ae('0xb')](_0x56ae('0x42'));}),_0x1bf38a=_0x42ac8f['defer'](function(){_0x53613a[_0x56ae('0xb')]('ok');}),_0x508b47=_0x42ac8f['defer'](function(){_0x53613a[_0x56ae('0xb')]('cancel\x20me,\x20now!');});expect(_0x53613a)[_0x56ae('0x2b')]([]);expect(_0x42ac8f['defer']['cancel'](_0x2f82da))['toBe'](!![]);expect(_0x42ac8f[_0x56ae('0x37')]['cancel'](_0x508b47))[_0x56ae('0x1d')](!![]);_0x16b1ca[_0x56ae('0x7')][_0x56ae('0x39')]();expect(_0x53613a)[_0x56ae('0x2b')](['ok']);expect(_0x42ac8f[_0x56ae('0x37')][_0x56ae('0x40')](_0x1bf38a))[_0x56ae('0x1d')](![]);});it(_0x56ae('0x3a'),function(){var _0x4e67ab=jasmine[_0x56ae('0x2d')](_0x56ae('0x3b'));var _0x2642bb=_0x42ac8f[_0x56ae('0x37')](noop);_0x42ac8f[_0x56ae('0x31')](_0x4e67ab);expect(_0x4e67ab)[_0x56ae('0x2a')]['toHaveBeenCalled']();_0x42ac8f[_0x56ae('0x37')][_0x56ae('0x40')](_0x2642bb);expect(_0x4e67ab)['toHaveBeenCalledOnce']();});it(_0x56ae('0x3c'),function(){var _0x5cc8fb=jasmine[_0x56ae('0x2d')]('noPendingFooTasks');var _0x4b3c1a=jasmine['createSpy'](_0x56ae('0x3b'));var _0x49d231=_0x42ac8f[_0x56ae('0x37')](noop,0x0,_0x56ae('0x22'));var _0x261adb=_0x42ac8f[_0x56ae('0x37')](noop,0x0,_0x56ae('0x43'));_0x42ac8f[_0x56ae('0x31')](_0x5cc8fb,'foo');_0x42ac8f[_0x56ae('0x31')](_0x4b3c1a);expect(_0x5cc8fb)['not'][_0x56ae('0x2e')]();expect(_0x4b3c1a)[_0x56ae('0x2a')][_0x56ae('0x2e')]();_0x42ac8f['defer'][_0x56ae('0x40')](_0x49d231);expect(_0x5cc8fb)[_0x56ae('0x36')]();expect(_0x4b3c1a)[_0x56ae('0x2a')][_0x56ae('0x2e')]();_0x42ac8f['defer'][_0x56ae('0x40')](_0x261adb);expect(_0x5cc8fb)[_0x56ae('0x36')]();expect(_0x4b3c1a)['toHaveBeenCalledOnce']();});});});describe(_0x56ae('0x29'),function(){var _0x17e88c,_0x88dcbf,_0x409b29;beforeEach(function(){_0x17e88c=spyOn(_0x16b1ca[_0x56ae('0xe')],'pushState');_0x88dcbf=spyOn(_0x16b1ca[_0x56ae('0xe')],_0x56ae('0x12'));_0x409b29=spyOn(_0x16b1ca[_0x56ae('0x1e')],'replace');});it(_0x56ae('0x44'),function(){_0x16b1ca['location']['href']=_0x56ae('0x45');expect(_0x42ac8f[_0x56ae('0x29')]())[_0x56ae('0x2b')](_0x56ae('0x46'));_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]=_0x56ae('0x47');expect(_0x42ac8f[_0x56ae('0x29')]())[_0x56ae('0x2b')](_0x56ae('0x48'));});it(_0x56ae('0x49'),function(){_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]=_0x56ae('0x4a');expect(_0x42ac8f[_0x56ae('0x29')]())[_0x56ae('0x2b')](_0x56ae('0x46'));_0x16b1ca[_0x56ae('0x1e')]['href']=_0x56ae('0x4b');expect(_0x42ac8f[_0x56ae('0x29')]())[_0x56ae('0x2b')]('https://another.com/#foo');});it(_0x56ae('0x4c'),function(){sniffer[_0x56ae('0xe')]=!![];_0x42ac8f['url'](_0x56ae('0x4d'));expect(_0x17e88c)[_0x56ae('0x36')]();expect(_0x17e88c[_0x56ae('0x4e')][_0x56ae('0x4f')](0x0)[0x2])[_0x56ae('0x2b')]('http://new.org/');expect(_0x88dcbf)['not']['toHaveBeenCalled']();expect(_0x409b29)[_0x56ae('0x2a')][_0x56ae('0x2e')]();expect(_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')])[_0x56ae('0x2b')](_0x56ae('0x5'));});it(_0x56ae('0x50'),function(){sniffer[_0x56ae('0xe')]=!![];_0x42ac8f['url'](_0x56ae('0x4d'),!![]);expect(_0x88dcbf)[_0x56ae('0x36')]();expect(_0x88dcbf[_0x56ae('0x4e')]['argsFor'](0x0)[0x2])[_0x56ae('0x2b')]('http://new.org/');expect(_0x17e88c)[_0x56ae('0x2a')][_0x56ae('0x2e')]();expect(_0x409b29)['not'][_0x56ae('0x2e')]();expect(_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')])[_0x56ae('0x2b')]('http://server/');});it(_0x56ae('0x51'),function(){sniffer[_0x56ae('0xe')]=![];_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x4d'));expect(_0x16b1ca['location'][_0x56ae('0x4')])[_0x56ae('0x2b')](_0x56ae('0x52'));expect(_0x17e88c)[_0x56ae('0x2a')]['toHaveBeenCalled']();expect(_0x88dcbf)[_0x56ae('0x2a')][_0x56ae('0x2e')]();expect(_0x409b29)[_0x56ae('0x2a')][_0x56ae('0x2e')]();});it(_0x56ae('0x53'),function(){sniffer[_0x56ae('0xe')]=!![];_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x54'));expect(_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')])[_0x56ae('0x2b')](_0x56ae('0x54'));expect(_0x17e88c)[_0x56ae('0x2a')][_0x56ae('0x2e')]();expect(_0x88dcbf)['not'][_0x56ae('0x2e')]();expect(_0x409b29)[_0x56ae('0x2a')][_0x56ae('0x2e')]();});it('should\x20retain\x20the\x20#\x20character\x20when\x20the\x20only\x20change\x20is\x20clearing\x20the\x20hash\x20fragment,\x20to\x20prevent\x20page\x20reload',function(){sniffer[_0x56ae('0xe')]=!![];_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x54'));expect(_0x16b1ca[_0x56ae('0x1e')]['href'])['toEqual'](_0x56ae('0x54'));_0x42ac8f[_0x56ae('0x29')]('http://server/');expect(_0x16b1ca[_0x56ae('0x1e')]['href'])[_0x56ae('0x2b')](_0x56ae('0x55'));});it('should\x20use\x20location.replace\x20when\x20history.replaceState\x20not\x20available',function(){sniffer[_0x56ae('0xe')]=![];_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x4d'),!![]);expect(_0x409b29)[_0x56ae('0x56')](_0x56ae('0x52'));expect(_0x17e88c)[_0x56ae('0x2a')][_0x56ae('0x2e')]();expect(_0x88dcbf)['not'][_0x56ae('0x2e')]();expect(_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')])[_0x56ae('0x2b')]('http://server/');});it(_0x56ae('0x57'),function(){sniffer[_0x56ae('0xe')]=!![];_0x42ac8f['url'](_0x56ae('0x54'),!![]);expect(_0x409b29)['toHaveBeenCalledWith'](_0x56ae('0x54'));expect(_0x17e88c)[_0x56ae('0x2a')][_0x56ae('0x2e')]();expect(_0x88dcbf)[_0x56ae('0x2a')]['toHaveBeenCalled']();expect(_0x16b1ca['location'][_0x56ae('0x4')])[_0x56ae('0x2b')](_0x56ae('0x5'));});it('should\x20return\x20$browser\x20to\x20allow\x20chaining',function(){expect(_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x58')))['toBe'](_0x42ac8f);});it('should\x20return\x20$browser\x20to\x20allow\x20chaining\x20even\x20if\x20the\x20previous\x20and\x20current\x20URLs\x20and\x20states\x20match',function(){expect(_0x42ac8f[_0x56ae('0x29')]('http://any.com')['url']('http://any.com'))[_0x56ae('0x1d')](_0x42ac8f);var _0xf3601c={'any':_0x56ae('0x22')};expect(_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x58'),![],_0xf3601c)[_0x56ae('0x29')]('http://any.com',![],_0xf3601c))[_0x56ae('0x1d')](_0x42ac8f);expect(_0x42ac8f['url'](_0x56ae('0x58'),!![],_0xf3601c)[_0x56ae('0x29')](_0x56ae('0x58'),!![],_0xf3601c))[_0x56ae('0x1d')](_0x42ac8f);});it('should\x20not\x20set\x20URL\x20when\x20the\x20URL\x20is\x20already\x20set',function(){var _0x46c9ac=_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')];sniffer['history']=![];_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]=_0x56ae('0x59');_0x42ac8f[_0x56ae('0x29')](_0x46c9ac);expect(_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')])[_0x56ae('0x1d')](_0x56ae('0x59'));});it('should\x20not\x20read\x20out\x20location.href\x20if\x20a\x20reload\x20was\x20triggered\x20but\x20still\x20allow\x20to\x20change\x20the\x20url',function(){sniffer[_0x56ae('0xe')]=![];_0x42ac8f[_0x56ae('0x29')]('http://server/someOtherUrlThatCausesReload');expect(_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')])[_0x56ae('0x1d')]('http://server/someOtherUrlThatCausesReload');_0x16b1ca[_0x56ae('0x1e')]['href']=_0x56ae('0x5a');expect(_0x42ac8f[_0x56ae('0x29')]())[_0x56ae('0x1d')](_0x56ae('0x5b'));_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x5c'));expect(_0x42ac8f[_0x56ae('0x29')]())[_0x56ae('0x1d')]('http://server/someOtherUrl');expect(_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')])[_0x56ae('0x1d')](_0x56ae('0x5c'));});it(_0x56ae('0x5d'),function(_0x3df9e4){var _0x6803d6=window,_0x33f0c9=jqLite(_0x6803d6),_0x1808ba=[];var _0x31af8c=createAsync(_0x3df9e4);_0x31af8c[_0x56ae('0x5e')](function(){_0x33f0c9['on'](_0x56ae('0x5f'),_0x4ab276);_0x6803d6[_0x56ae('0x1e')]['hash']='1';_0x6803d6[_0x56ae('0x1e')][_0x56ae('0x4')]+='2';_0x6803d6[_0x56ae('0x1e')][_0x56ae('0x6')](_0x6803d6[_0x56ae('0x1e')]['href']+'3');_0x6803d6[_0x56ae('0x1e')][_0x56ae('0x60')](_0x6803d6['location'][_0x56ae('0x4')]+'4');expect(_0x6803d6['location'][_0x56ae('0x61')])[_0x56ae('0x1d')](_0x56ae('0x62'));})[_0x56ae('0x63')](function(){return _0x1808ba['length']>0x3;})[_0x56ae('0x5e')](function(){_0x33f0c9['off'](_0x56ae('0x5f'),_0x4ab276);forEach(_0x1808ba,function(_0x3d0a77){expect(_0x3d0a77)['toBe'](_0x56ae('0x62'));});})[_0x56ae('0x64')]();_0x31af8c[_0x56ae('0x65')]();function _0x4ab276(){_0x1808ba['push'](_0x6803d6[_0x56ae('0x1e')][_0x56ae('0x61')]);}});});describe(_0x56ae('0x66'),function(){it(_0x56ae('0x67'),function(){sniffer[_0x56ae('0xe')]=!![];var _0x2450a8=_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x6')];_0x16b1ca[_0x56ae('0x1e')]['replace']=function(_0x3156c7){_0x3156c7=_0x3156c7['replace'](_0x56ae('0x68'),'¬');_0x2450a8[_0x56ae('0x18')](this,_0x3156c7);};var _0x34e745=_0x56ae('0x69');_0x16b1ca[_0x56ae('0x1e')]['href']=_0x34e745;_0x42ac8f=new Browser(_0x16b1ca,_0x5ea472,_0x59181e,sniffer,_0x3a8e58);var _0x436313=_0x34e745[_0x56ae('0x6')](_0x56ae('0x6a'),'=');_0x42ac8f[_0x56ae('0x29')](_0x436313,!![],null);expect(_0x42ac8f[_0x56ae('0x29')]())['toEqual'](_0x436313);var _0x4f074c=_0x56ae('0x6b');_0x42ac8f['url'](_0x4f074c,!![],null);expect(_0x42ac8f[_0x56ae('0x29')]())[_0x56ae('0x2b')](_0x4f074c);});});describe(_0x56ae('0x6c'),function(){var _0x16313e,_0x2ad54b,_0x213e5d,_0x596312;beforeEach(function(){});describe('in\x20IE',_0x5dfbe2({'msie':!![]}));describe(_0x56ae('0x26'),_0x5dfbe2({'msie':![]}));function _0x5dfbe2(_0x2469d1){return function(){beforeEach(function(){sniffer={'history':!![]};_0x16b1ca=new MockWindow({'msie':_0x2469d1['msie']});_0x16313e=_0x16b1ca[_0x56ae('0x1e')]['href'];_0x2ad54b=spyOn(_0x16b1ca['history'],_0x56ae('0x6d'))[_0x56ae('0x6e')]['callThrough']();_0x213e5d=spyOn(_0x16b1ca[_0x56ae('0xe')],_0x56ae('0x12'))[_0x56ae('0x6e')][_0x56ae('0x6f')]();_0x596312=spyOn(_0x16b1ca[_0x56ae('0x1e')],'replace')['and'][_0x56ae('0x6f')]();_0x42ac8f=new Browser(_0x16b1ca,_0x5ea472,_0x59181e,sniffer,_0x3a8e58);_0x42ac8f[_0x56ae('0x70')](function(){});});it(_0x56ae('0x71'),function(){_0x42ac8f[_0x56ae('0x29')](_0x16313e,![],{'prop':_0x56ae('0x72')});expect(_0x16b1ca['history'][_0x56ae('0xf')])[_0x56ae('0x2b')]({'prop':'val1'});_0x42ac8f[_0x56ae('0x29')](_0x16313e+_0x56ae('0x73'),![],{'prop':_0x56ae('0x74')});expect(_0x16b1ca[_0x56ae('0xe')][_0x56ae('0xf')])[_0x56ae('0x2b')]({'prop':_0x56ae('0x74')});});it(_0x56ae('0x75'),function(){_0x16b1ca[_0x56ae('0xe')][_0x56ae('0xf')]={'prop':'val1'};_0x16b1ca[_0x56ae('0xd')](_0x56ae('0x76'));_0x42ac8f[_0x56ae('0x29')](_0x16313e,![],null);expect(_0x16b1ca[_0x56ae('0xe')][_0x56ae('0xf')])['toBe'](null);_0x42ac8f['url'](_0x16313e,![],![]);expect(_0x16b1ca[_0x56ae('0xe')][_0x56ae('0xf')])[_0x56ae('0x1d')](![]);_0x42ac8f[_0x56ae('0x29')](_0x16313e,![],'');expect(_0x16b1ca[_0x56ae('0xe')]['state'])[_0x56ae('0x1d')]('');_0x42ac8f[_0x56ae('0x29')](_0x16313e,![],0x0);expect(_0x16b1ca[_0x56ae('0xe')]['state'])[_0x56ae('0x1d')](0x0);});it('should\x20treat\x20`undefined`\x20state\x20as\x20`null`',function(){_0x16b1ca[_0x56ae('0xe')]['state']={'prop':_0x56ae('0x72')};_0x16b1ca[_0x56ae('0xd')](_0x56ae('0x76'));_0x42ac8f['url'](_0x16313e,![],undefined);expect(_0x16b1ca[_0x56ae('0xe')]['state'])[_0x56ae('0x1d')](null);});it(_0x56ae('0x77'),function(){_0x42ac8f[_0x56ae('0x29')](_0x16313e,![],{'prop':_0x56ae('0x72')});expect(_0x16b1ca[_0x56ae('0xe')][_0x56ae('0xf')])[_0x56ae('0x2b')]({'prop':_0x56ae('0x72')});_0x42ac8f[_0x56ae('0x29')](_0x16313e,![],null);expect(_0x16b1ca[_0x56ae('0xe')][_0x56ae('0xf')])[_0x56ae('0x1d')](null);_0x42ac8f[_0x56ae('0x29')](_0x16313e,![],{'prop':_0x56ae('0x74')});_0x42ac8f[_0x56ae('0x29')](_0x16313e,![],{'prop':_0x56ae('0x78')});expect(_0x16b1ca['history']['state'])[_0x56ae('0x2b')]({'prop':'val3'});});it(_0x56ae('0x79'),function(){_0x16b1ca[_0x56ae('0xe')]['state']={'prop':_0x56ae('0x28')};_0x16b1ca[_0x56ae('0xd')](_0x56ae('0x76'));expect(historyEntriesLength)[_0x56ae('0x1d')](0x1);_0x42ac8f['url'](_0x16313e,![],{'prop':_0x56ae('0x28')});expect(_0x16b1ca[_0x56ae('0xe')][_0x56ae('0xf')])[_0x56ae('0x2b')]({'prop':'val'});expect(historyEntriesLength)[_0x56ae('0x1d')](0x2);});it(_0x56ae('0x7a'),function(){_0x42ac8f[_0x56ae('0x29')](_0x16313e,![],{'prop':'val'});_0x2ad54b[_0x56ae('0x4e')][_0x56ae('0x7b')]();_0x213e5d[_0x56ae('0x4e')]['reset']();_0x596312[_0x56ae('0x4e')][_0x56ae('0x7b')]();_0x42ac8f[_0x56ae('0x29')](_0x16313e,![],_0x42ac8f[_0x56ae('0xf')]());expect(_0x2ad54b)[_0x56ae('0x2a')]['toHaveBeenCalled']();expect(_0x213e5d)[_0x56ae('0x2a')][_0x56ae('0x2e')]();expect(_0x596312)['not'][_0x56ae('0x2e')]();});it(_0x56ae('0x7c'),function(){_0x42ac8f[_0x56ae('0x29')]('http://server/');_0x2ad54b['calls']['reset']();_0x213e5d[_0x56ae('0x4e')][_0x56ae('0x7b')]();_0x596312['calls'][_0x56ae('0x7b')]();_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x7d'));expect(_0x2ad54b)['not'][_0x56ae('0x2e')]();expect(_0x213e5d)[_0x56ae('0x2a')][_0x56ae('0x2e')]();expect(_0x596312)[_0x56ae('0x2a')][_0x56ae('0x2e')]();});it(_0x56ae('0x7e'),function(){_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x7f'));_0x2ad54b[_0x56ae('0x4e')]['reset']();_0x213e5d[_0x56ae('0x4e')]['reset']();_0x596312[_0x56ae('0x4e')][_0x56ae('0x7b')]();_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x5'));expect(_0x2ad54b)[_0x56ae('0x2a')][_0x56ae('0x2e')]();expect(_0x213e5d)['not'][_0x56ae('0x2e')]();expect(_0x596312)[_0x56ae('0x2a')][_0x56ae('0x2e')]();});it(_0x56ae('0x80'),function(){_0x42ac8f['url'](_0x56ae('0x5'));_0x2ad54b[_0x56ae('0x4e')][_0x56ae('0x7b')]();_0x213e5d[_0x56ae('0x4e')][_0x56ae('0x7b')]();_0x596312[_0x56ae('0x4e')][_0x56ae('0x7b')]();_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x7f'));expect(_0x2ad54b)[_0x56ae('0x2a')]['toHaveBeenCalled']();expect(_0x213e5d)[_0x56ae('0x2a')][_0x56ae('0x2e')]();expect(_0x596312)[_0x56ae('0x2a')][_0x56ae('0x2e')]();});it(_0x56ae('0x81'),function(){_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x82'));_0x2ad54b[_0x56ae('0x4e')]['reset']();_0x213e5d[_0x56ae('0x4e')][_0x56ae('0x7b')]();_0x596312[_0x56ae('0x4e')]['reset']();_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x83'));expect(_0x2ad54b)[_0x56ae('0x36')]();expect(_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')])[_0x56ae('0x2b')](_0x56ae('0x83'));});it(_0x56ae('0x84'),function(){_0x42ac8f[_0x56ae('0x29')](_0x56ae('0x83'));_0x2ad54b['calls'][_0x56ae('0x7b')]();_0x213e5d[_0x56ae('0x4e')][_0x56ae('0x7b')]();_0x596312[_0x56ae('0x4e')][_0x56ae('0x7b')]();_0x42ac8f[_0x56ae('0x29')]('http://server/foo');expect(_0x2ad54b)[_0x56ae('0x36')]();expect(_0x16b1ca['location']['href'])['toEqual'](_0x56ae('0x82'));});};}});describe(_0x56ae('0xf'),function(){var _0x426cb4;beforeEach(function(){sniffer={'history':!![]};_0x426cb4=_0x16b1ca[_0x56ae('0x1e')]['href'];});it(_0x56ae('0x85'),function(){var _0x309fa9=![];var _0x3ddbc7={'history':![]};var _0x1fdb10=new MockWindow();var _0x2c8d1d=_0x1fdb10['history']['state'];Object[_0x56ae('0x86')](_0x1fdb10[_0x56ae('0xe')],_0x56ae('0xf'),{'get':function(){_0x309fa9=!![];return _0x2c8d1d;}});var _0x42ac8f=new Browser(_0x1fdb10,_0x5ea472,_0x59181e,_0x3ddbc7,_0x3a8e58);expect(_0x309fa9)[_0x56ae('0x1d')](![]);});describe(_0x56ae('0x25'),_0x4cee8c({'msie':!![]}));describe(_0x56ae('0x26'),_0x4cee8c({'msie':![]}));function _0x4cee8c(_0x8ad1c0){return function(){beforeEach(function(){_0x16b1ca=new MockWindow({'msie':_0x8ad1c0[_0x56ae('0x87')]});_0x42ac8f=new Browser(_0x16b1ca,_0x5ea472,_0x59181e,sniffer,_0x3a8e58);});it(_0x56ae('0x88'),function(){_0x42ac8f['url'](_0x426cb4,![],{'prop':_0x56ae('0x28')});expect(_0x42ac8f[_0x56ae('0xf')]())[_0x56ae('0x2b')]({'prop':'val'});_0x42ac8f['url'](_0x426cb4,![],0x2);expect(_0x42ac8f['state']())[_0x56ae('0x2b')](0x2);_0x42ac8f[_0x56ae('0x29')](_0x426cb4,![],null);expect(_0x42ac8f[_0x56ae('0xf')]())[_0x56ae('0x2b')](null);});it('should\x20return\x20null\x20if\x20history.state\x20is\x20undefined',function(){_0x42ac8f[_0x56ae('0x29')](_0x426cb4,![],undefined);expect(_0x42ac8f['state']())[_0x56ae('0x1d')](null);});it(_0x56ae('0x89'),function(){_0x42ac8f[_0x56ae('0x29')](_0x426cb4,![],{'prop':'val'});expect(_0x42ac8f[_0x56ae('0xf')]())[_0x56ae('0x1d')](_0x42ac8f[_0x56ae('0xf')]());});};}});describe('urlChange',function(){var _0x40eb5d;beforeEach(function(){_0x40eb5d=jasmine['createSpy'](_0x56ae('0x70'));});afterEach(function(){if(!jQuery)jqLiteDealoc(_0x16b1ca);});it('should\x20return\x20registered\x20callback',function(){expect(_0x42ac8f[_0x56ae('0x70')](_0x40eb5d))['toBe'](_0x40eb5d);});it(_0x56ae('0x8a'),function(){sniffer[_0x56ae('0xe')]=!![];_0x42ac8f[_0x56ae('0x70')](_0x40eb5d);_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]=_0x56ae('0x8b');_0x16b1ca[_0x56ae('0xd')]('popstate');expect(_0x40eb5d)[_0x56ae('0x56')](_0x56ae('0x8b'),null);_0x16b1ca['fire'](_0x56ae('0x5f'));_0x16b1ca[_0x56ae('0x7')]['flush']();expect(_0x40eb5d)[_0x56ae('0x36')]();});it(_0x56ae('0x8c'),function(){sniffer[_0x56ae('0xe')]=!![];_0x42ac8f['onUrlChange'](_0x40eb5d);_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]=_0x56ae('0x8b');_0x16b1ca[_0x56ae('0xd')](_0x56ae('0x76'));expect(_0x40eb5d)[_0x56ae('0x56')](_0x56ae('0x8b'),null);_0x16b1ca[_0x56ae('0xd')](_0x56ae('0x5f'));_0x16b1ca[_0x56ae('0x7')]['flush']();expect(_0x40eb5d)[_0x56ae('0x36')]();});it('should\x20forward\x20hashchange\x20event\x20with\x20new\x20url\x20when\x20history\x20not\x20supported',function(){sniffer[_0x56ae('0xe')]=![];_0x42ac8f[_0x56ae('0x70')](_0x40eb5d);_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]=_0x56ae('0x8b');_0x16b1ca[_0x56ae('0xd')]('hashchange');expect(_0x40eb5d)[_0x56ae('0x56')](_0x56ae('0x8b'),null);_0x16b1ca[_0x56ae('0xd')]('popstate');_0x16b1ca[_0x56ae('0x7')][_0x56ae('0x39')]();expect(_0x40eb5d)[_0x56ae('0x36')]();});it(_0x56ae('0x8d'),function(){sniffer[_0x56ae('0xe')]=![];_0x42ac8f[_0x56ae('0x70')](_0x40eb5d);_0x42ac8f[_0x56ae('0x29')]('http://new.com/');_0x16b1ca[_0x56ae('0xd')](_0x56ae('0x5f'));expect(_0x40eb5d)[_0x56ae('0x2a')][_0x56ae('0x2e')]();});describe(_0x56ae('0x8e'),function(){var _0x241404;beforeEach(function(){sniffer={'history':!![]};_0x241404=_0x16b1ca[_0x56ae('0x1e')]['href'];});describe('in\x20IE',_0x3f507c({'msie':!![]}));describe(_0x56ae('0x26'),_0x3f507c({'msie':![]}));function _0x3f507c(_0x1f4929){return function(){beforeEach(function(){_0x16b1ca=new MockWindow({'msie':_0x1f4929[_0x56ae('0x87')]});_0x42ac8f=new Browser(_0x16b1ca,_0x5ea472,_0x59181e,sniffer,_0x3a8e58);});it(_0x56ae('0x8f'),function(){_0x16b1ca[_0x56ae('0xe')][_0x56ae('0xf')]={'prop':'val'};_0x42ac8f[_0x56ae('0x70')](_0x40eb5d);_0x16b1ca[_0x56ae('0xd')](_0x56ae('0x5f'));_0x16b1ca[_0x56ae('0xd')](_0x56ae('0x76'));expect(_0x40eb5d)[_0x56ae('0x36')]();});};}});it(_0x56ae('0x90'),function(){sniffer['history']=!![];_0x42ac8f[_0x56ae('0x70')](_0x40eb5d);_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]='http://server/new';_0x42ac8f[_0x56ae('0x91')]();_0x16b1ca[_0x56ae('0xd')](_0x56ae('0x76'));expect(_0x40eb5d)[_0x56ae('0x2a')]['toHaveBeenCalled']();_0x16b1ca[_0x56ae('0xd')](_0x56ae('0x5f'));_0x16b1ca[_0x56ae('0x7')][_0x56ae('0x39')]();expect(_0x40eb5d)[_0x56ae('0x2a')][_0x56ae('0x2e')]();});});describe(_0x56ae('0x92'),function(){var _0x385e5d;beforeEach(function(){_0x385e5d=jqLite(window['document'])[_0x56ae('0x14')](_0x56ae('0x93'));});it(_0x56ae('0x94'),function(){_0x5ea472[_0x56ae('0x13')]='/base/path/';expect(_0x42ac8f['baseHref']())[_0x56ae('0x2b')](_0x56ae('0x95'));});it(_0x56ae('0x96'),function(){_0x5ea472['basePath']=undefined;expect(_0x42ac8f[_0x56ae('0x92')]())[_0x56ae('0x2b')]('');});it('should\x20remove\x20domain\x20from\x20<base\x20href>',function(){_0x5ea472[_0x56ae('0x13')]='http://host.com/base/path/';expect(_0x42ac8f[_0x56ae('0x92')]())['toEqual']('/base/path/');_0x5ea472['basePath']=_0x56ae('0x97');expect(_0x42ac8f[_0x56ae('0x92')]())[_0x56ae('0x2b')](_0x56ae('0x98'));});it(_0x56ae('0x99'),function(){_0x5ea472[_0x56ae('0x13')]='//google.com/base/path/';expect(_0x42ac8f[_0x56ae('0x92')]())[_0x56ae('0x2b')](_0x56ae('0x95'));});});describe(_0x56ae('0x9a'),function(){function _0x293b22(_0x18dccf){_0x16b1ca=new MockWindow(_0x18dccf);_0x42ac8f=new Browser(_0x16b1ca,_0x5ea472,_0x59181e,sniffer,_0x3a8e58);module(function(_0x31c937,_0x5312fa){spyOn(_0x16b1ca['history'],_0x56ae('0x6d'))['and'][_0x56ae('0x9b')](function(_0xb326cb,_0x1f0318,_0xa3695f){_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]=_0xa3695f;});spyOn(_0x16b1ca['location'],_0x56ae('0x6'))['and']['callFake'](function(_0x504403){_0x16b1ca['location'][_0x56ae('0x4')]=_0x504403;});_0x31c937['value']('$browser',_0x42ac8f);sniffer[_0x56ae('0xe')]=_0x18dccf['history'];_0x31c937[_0x56ae('0x9c')](_0x56ae('0x9d'),sniffer);_0x5312fa[_0x56ae('0x9e')](_0x18dccf['html5Mode']);});}describe(_0x56ae('0x9f')+_0x56ae('0xa0'),function(){it(_0x56ae('0xa1'),function(){_0x293b22({'history':![],'html5Mode':![]});inject(function(_0x55b69e,_0x5236c9){_0x55b69e[_0x56ae('0xa2')](function(){_0x5236c9[_0x56ae('0xa3')](_0x56ae('0xa4'));});expect(_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')])[_0x56ae('0x1d')](_0x56ae('0xa5'));_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]=_0x56ae('0xa6');_0x55b69e['$digest']();expect(_0x5236c9['path']())['toBe'](_0x56ae('0xa7'));});});it(_0x56ae('0xa8'),function(){_0x293b22({'history':!![],'html5Mode':![]});inject(function(_0x2ce30f,_0x2d21c7){_0x2ce30f[_0x56ae('0xa2')](function(){_0x2d21c7[_0x56ae('0xa3')](_0x56ae('0xa4'));});expect(_0x16b1ca[_0x56ae('0x1e')]['href'])['toBe'](_0x56ae('0xa5'));_0x16b1ca[_0x56ae('0x1e')]['href']=_0x56ae('0xa6');_0x2ce30f[_0x56ae('0xa9')]();expect(_0x2d21c7[_0x56ae('0xa3')]())[_0x56ae('0x1d')](_0x56ae('0xa7'));});});it(_0x56ae('0xaa'),function(){_0x293b22({'history':![],'html5Mode':!![]});inject(function(_0x167196,_0x262281){_0x167196[_0x56ae('0xa2')](function(){_0x262281[_0x56ae('0xa3')](_0x56ae('0xa4'));});expect(_0x16b1ca[_0x56ae('0x1e')]['href'])[_0x56ae('0x1d')](_0x56ae('0xa5'));_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]=_0x56ae('0xa6');_0x167196[_0x56ae('0xa9')]();expect(_0x262281[_0x56ae('0xa3')]())[_0x56ae('0x1d')](_0x56ae('0xa7'));});});it(_0x56ae('0xab'),function(){_0x293b22({'history':!![],'html5Mode':!![]});inject(function(_0x6b048e,_0x3ba472){_0x6b048e['$apply'](function(){_0x3ba472['path'](_0x56ae('0xa4'));});expect(_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')])[_0x56ae('0x1d')](_0x56ae('0xac'));_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]='http://server/someTestHash';_0x6b048e[_0x56ae('0xa9')]();expect(_0x3ba472['path']())[_0x56ae('0x1d')](_0x56ae('0xa7'));});});});it(_0x56ae('0xad'),function(){_0x293b22({'history':![],'html5Mode':!![]});_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]=_0x56ae('0xae');var _0x465003=0x0;var _0x261eca=_0x42ac8f[_0x56ae('0x29')];_0x42ac8f[_0x56ae('0x29')]=function(_0x39d367,_0x8231e5,_0x43111e){if(_0x39d367){_0x465003++;}return _0x261eca[_0x56ae('0x18')](this,_0x39d367,_0x8231e5);};spyOn(_0x42ac8f,_0x56ae('0x29'))[_0x56ae('0x6e')]['callThrough']();inject(function(_0x54cf62,_0x9dc1de){_0x54cf62[_0x56ae('0xa9')]();_0x54cf62['$digest']();_0x54cf62['$digest']();_0x54cf62[_0x56ae('0xa9')]();expect(_0x42ac8f[_0x56ae('0x29')])[_0x56ae('0x56')]('http://server/#!/some/deep/path',!![]);expect(_0x465003)[_0x56ae('0x1d')](0x1);});});it('should\x20not\x20infinite\x20digest\x20if\x20the\x20browser\x20does\x20not\x20synchronously\x20update\x20the\x20location\x20properties',function(){_0x293b22({'history':!![],'html5Mode':!![],'updateAsync':!![]});inject(function(_0x31fe9e,_0x4bf1e3){_0x31fe9e[_0x56ae('0x61')]('newHash');expect(function(){_0x4bf1e3[_0x56ae('0xa9')]();})[_0x56ae('0x2a')][_0x56ae('0xaf')]();expect(_0x31fe9e['absUrl']())[_0x56ae('0x2b')]('http://server/#newHash');_0x16b1ca['location'][_0x56ae('0x61')]=_0x56ae('0xb0');_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x11')]();_0x16b1ca[_0x56ae('0xd')](_0x56ae('0x5f'));expect(_0x31fe9e[_0x56ae('0xb1')]())[_0x56ae('0x2b')](_0x56ae('0xb2'));});});it(_0x56ae('0xb3'),function(){_0x293b22({'history':!![],'html5Mode':!![]});inject(function(_0xd6938,_0x98bf26,_0x26361f){_0x26361f[_0x56ae('0xa9')]();var _0xdc4b2f=jasmine[_0x56ae('0x2d')](_0x56ae('0xb4'));_0x26361f[_0x56ae('0xb5')](_0x56ae('0xb4'),_0xdc4b2f);_0x26361f['$evalAsync'](function(){_0x16b1ca[_0x56ae('0x1e')][_0x56ae('0x4')]+='#';});_0x26361f[_0x56ae('0xa9')]();expect(_0x16b1ca[_0x56ae('0x1e')]['href'])['toBe']('http://server/#');expect(_0x98bf26[_0x56ae('0xb1')]())['toBe'](_0x56ae('0x5'));expect(_0xdc4b2f[_0x56ae('0x4e')][_0x56ae('0xb6')]())[_0x56ae('0x1d')](0x0);expect(_0xdc4b2f)[_0x56ae('0x2a')][_0x56ae('0x2e')]();});});});describe(_0x56ae('0xb7'),function(){beforeEach(module(function(_0x1cc73e,_0x2154d8){_0x1cc73e[_0x56ae('0x9c')]('$browser',_0x42ac8f);}));it(_0x56ae('0xb8'),function(){inject(function(_0x47a018){var _0x2509f3=_0x16b1ca['location'][_0x56ae('0x4')];var _0x2c5385=_0x56ae('0xb9');sniffer['history']=![];expect(historyEntriesLength)[_0x56ae('0x1d')](0x1);_0x42ac8f[_0x56ae('0x29')](_0x2c5385,!![]);expect(_0x42ac8f['url']())['toBe'](_0x2c5385);expect(historyEntriesLength)[_0x56ae('0x1d')](0x1);_0x47a018[_0x56ae('0xa9')]();expect(_0x42ac8f[_0x56ae('0x29')]())['toBe'](_0x2c5385);expect(historyEntriesLength)['toBe'](0x1);});});});});