var _0x33b2=['resolve','./challenges','getChallengesDirForLang','getChallengesForLang','data','then','isDirectory','/meta.json','meta.json','.DS_Store','log','challenges','challengeOrder','block','dashedName','order','superOrder','superBlock','isPrivate','concat','required','template','createChallenge','split','sep','reverse','join','path'];(function(_0x14d8ea,_0x357f46){var _0x1d16f2=function(_0x166de6){while(--_0x166de6){_0x14d8ea['push'](_0x14d8ea['shift']());}};_0x1d16f2(++_0x357f46);}(_0x33b2,0x1bf));var _0x9cc5=function(_0x16f07d,_0x273545){_0x16f07d=_0x16f07d-0x0;var _0xa9452f=_0x33b2[_0x16f07d];return _0xa9452f;};const path=require(_0x9cc5('0x0'));const {findIndex}=require('lodash');const readDirP=require('readdirp-walk');const {parseMarkdown}=require('@freecodecamp/challenge-md-parser');const {dasherize}=require('./utils');const challengesDir=path[_0x9cc5('0x1')](__dirname,_0x9cc5('0x2'));const metaDir=path[_0x9cc5('0x1')](challengesDir,'_meta');exports['challengesDir']=challengesDir;exports['metaDir']=metaDir;function getChallengesDirForLang(_0x142f83){return path[_0x9cc5('0x1')](challengesDir,'./'+_0x142f83);}exports[_0x9cc5('0x3')]=getChallengesDirForLang;exports[_0x9cc5('0x4')]=function getChallengesForLang(_0x2ece2d){let _0x4e5500={};return new Promise(_0x726469=>{let _0x34448c=0x1;function _0x25554e(){if(--_0x34448c===0x0){_0x726469(_0x4e5500);}}readDirP({'root':getChallengesDirForLang(_0x2ece2d)})['on'](_0x9cc5('0x5'),_0x4539d4=>{_0x34448c++;buildCurriculum(_0x4539d4,_0x4e5500)[_0x9cc5('0x6')](_0x25554e);})['on']('end',_0x25554e);});};async function buildCurriculum(_0x4f7b6a,_0x3d15d8){const {name,depth,path:filePath,fullPath,stat}=_0x4f7b6a;if(depth===0x1&&stat['isDirectory']()){const {order,name:superBlock}=superBlockInfo(name);_0x3d15d8[superBlock]={'superBlock':superBlock,'order':order,'blocks':{}};return;}if(depth===0x2&&stat[_0x9cc5('0x7')]()){const _0xbdf611=getBlockNameFromPath(filePath);const _0x3b7add=path[_0x9cc5('0x1')](__dirname,'./challenges/_meta/'+_0xbdf611+_0x9cc5('0x8'));const _0x56b88a=require(_0x3b7add);const {name:superBlock}=superBlockInfoFromPath(filePath);const _0x11eab4={'meta':_0x56b88a,'challenges':[]};_0x3d15d8[superBlock]['blocks'][name]=_0x11eab4;return;}if(name===_0x9cc5('0x9')||name===_0x9cc5('0xa')){return;}const _0x19d6b5=getBlockNameFromPath(filePath);const {name:superBlock}=superBlockInfoFromPath(filePath);let _0x4700d0;try{_0x4700d0=_0x3d15d8[superBlock]['blocks'][_0x19d6b5];}catch(_0x24c43a){console[_0x9cc5('0xb')](superBlock,_0x19d6b5);process['exit'](0x0);}const {meta}=_0x4700d0;const _0x53b6eb=await createChallenge(fullPath,meta);_0x4700d0['challenges']=[..._0x4700d0[_0x9cc5('0xc')],_0x53b6eb];}async function createChallenge(_0x2d768d,_0x3fefab){let _0x3c0893;if(_0x3fefab){_0x3c0893=_0x3fefab;}else{const _0x409273=path[_0x9cc5('0x1')](metaDir,'./'+getBlockNameFromFullPath(_0x2d768d)+'/meta.json');_0x3c0893=require(_0x409273);}const {name:superBlock}=superBlockInfoFromFullPath(_0x2d768d);const _0x782a95=await parseMarkdown(_0x2d768d);const _0x676a4e=findIndex(_0x3c0893[_0x9cc5('0xd')],([_0x8a1b0b])=>_0x8a1b0b===_0x782a95['id']);const {name:blockName,order,superOrder,isPrivate,required=[],template,time}=_0x3c0893;_0x782a95[_0x9cc5('0xe')]=blockName;_0x782a95[_0x9cc5('0xf')]=dasherize(_0x782a95['title']);_0x782a95[_0x9cc5('0x10')]=order;_0x782a95[_0x9cc5('0x11')]=superOrder;_0x782a95[_0x9cc5('0x12')]=superBlock;_0x782a95[_0x9cc5('0xd')]=_0x676a4e;_0x782a95[_0x9cc5('0x13')]=_0x782a95[_0x9cc5('0x13')]||isPrivate;_0x782a95['required']=required[_0x9cc5('0x14')](_0x782a95[_0x9cc5('0x15')]||[]);_0x782a95[_0x9cc5('0x16')]=template;_0x782a95['time']=time;return _0x782a95;}exports[_0x9cc5('0x17')]=createChallenge;function superBlockInfoFromPath(_0x3c05a3){const [_0xad7ca7]=_0x3c05a3[_0x9cc5('0x18')](path[_0x9cc5('0x19')]);return superBlockInfo(_0xad7ca7);}function superBlockInfoFromFullPath(_0x188cf5){const [,,_0x2af4c6]=_0x188cf5[_0x9cc5('0x18')](path['sep'])[_0x9cc5('0x1a')]();return superBlockInfo(_0x2af4c6);}function superBlockInfo(_0x5594ea){const [_0x34eb26,..._0x6f2067]=_0x5594ea[_0x9cc5('0x18')]('-');let _0xc7fb71=parseInt(_0x34eb26,0xa);if(isNaN(_0xc7fb71)){return{'order':0x0,'name':_0x5594ea};}else{return{'order':_0xc7fb71,'name':_0x6f2067[_0x9cc5('0x1b')]('-')};}}function getBlockNameFromPath(_0x3f0d62){const [,_0x1600d9]=_0x3f0d62[_0x9cc5('0x18')](path['sep']);return _0x1600d9;}function getBlockNameFromFullPath(_0xef9464){const [,_0x59c007]=_0xef9464['split'](path[_0x9cc5('0x19')])['reverse']();return _0x59c007;}