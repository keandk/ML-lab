var _0x20c5=['collection','user','$progressTimestamps','get','points','completedChallenges','length','forEach','challengeType','completedChallengeCount','completedProjectCount','completedCertCount','completedLegacyCertCount','isApisMicroservicesCert','isFrontEndLibsCert','isInfosecQaCert','isRespWebDesignCert','isDataVisCert','reduce'];(function(_0x9f86aa,_0x56a52c){var _0x309af0=function(_0x1ab6ba){while(--_0x1ab6ba){_0x9f86aa['push'](_0x9f86aa['shift']());}};_0x309af0(++_0x56a52c);}(_0x20c5,0xde));var _0x2d98=function(_0x59842e,_0x14c051){_0x59842e=_0x59842e-0x0;var _0x5ce261=_0x20c5[_0x59842e];return _0x5ce261;};function getCompletedCertCount(_0x7de470){return[_0x2d98('0x0'),'is2018DataVisCert',_0x2d98('0x1'),_0x2d98('0x2'),'isJsAlgoDataStructCert',_0x2d98('0x3')]['reduce']((_0x4616ff,_0x354ef7)=>_0x7de470[_0x354ef7]?_0x4616ff+0x1:_0x4616ff,0x0);}function getLegacyCertCount(_0x5a8e94){return['isFrontEndCert','isBackEndCert',_0x2d98('0x4')][_0x2d98('0x5')]((_0x17afd4,_0x4d4ce3)=>_0x5a8e94[_0x4d4ce3]?_0x17afd4+0x1:_0x17afd4,0x0);}export default function populateUser(_0x933a59,_0x15421c){return new Promise((_0x3ce22d,_0x4c6e7b)=>{let _0x2b6bb2={..._0x15421c};_0x933a59[_0x2d98('0x6')](_0x2d98('0x7'))['aggregate']([{'$match':{'_id':_0x15421c['id']}},{'$project':{'points':{'$size':_0x2d98('0x8')}}}])[_0x2d98('0x9')](function(_0x23b02a,[{points=0x1}={}]){if(_0x23b02a){return _0x4c6e7b(_0x23b02a);}_0x15421c[_0x2d98('0xa')]=points;let _0x1c4a0b=0x0;let _0x282c4e=0x0;if(_0x2d98('0xb')in _0x15421c){_0x1c4a0b=_0x15421c[_0x2d98('0xb')][_0x2d98('0xc')];_0x15421c[_0x2d98('0xb')][_0x2d98('0xd')](_0x5963c2=>{if(_0x2d98('0xe')in _0x5963c2&&(_0x5963c2[_0x2d98('0xe')]===0x3||_0x5963c2[_0x2d98('0xe')]===0x4)){_0x282c4e++;}});}_0x2b6bb2[_0x2d98('0xf')]=_0x1c4a0b;_0x2b6bb2[_0x2d98('0x10')]=_0x282c4e;_0x2b6bb2[_0x2d98('0x11')]=getCompletedCertCount(_0x15421c);_0x2b6bb2[_0x2d98('0x12')]=getLegacyCertCount(_0x15421c);_0x2b6bb2[_0x2d98('0xb')]=[];return _0x3ce22d(_0x2b6bb2);});});}