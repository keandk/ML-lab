var _0x59bd=['legacy','http_parser','http_parser_llhttp','internal/freelist','internal/http','http','IncomingMessage','kOnHeadersComplete','kOnBody','kOnMessageComplete','maxHeaderPairs','length','_headers','concat','_url','server','incoming','httpVersionMajor','httpVersionMinor','httpVersion','upgrade','_addHeaderLines','number','method','statusCode','statusMessage','onIncoming','slice','socket','complete','push','REQUEST','_consumed','unconsume','free','parser','drain','test','--http-parser'];(function(_0x308549,_0x419299){var _0xc9b900=function(_0x5a4e08){while(--_0x5a4e08){_0x308549['push'](_0x308549['shift']());}};_0xc9b900(++_0x419299);}(_0x59bd,0x1ac));var _0x263c=function(_0x2d8f05,_0x4b81bb){_0x2d8f05=_0x2d8f05-0x0;var _0x4d74cb=_0x59bd[_0x2d8f05];return _0x4d74cb;};// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
'use strict';const {getOptionValue}=require('internal/options');const {methods,HTTPParser}=getOptionValue(_0x263c('0x0'))===_0x263c('0x1')?internalBinding(_0x263c('0x2')):internalBinding(_0x263c('0x3'));const {FreeList}=require(_0x263c('0x4'));const {ondrain}=require(_0x263c('0x5'));const incoming=require('_http_incoming');const {IncomingMessage,readStart,readStop}=incoming;const debug=require('internal/util/debuglog')['debuglog'](_0x263c('0x6'));const kIncomingMessage=Symbol(_0x263c('0x7'));const kOnHeaders=HTTPParser['kOnHeaders']|0x0;const kOnHeadersComplete=HTTPParser[_0x263c('0x8')]|0x0;const kOnBody=HTTPParser[_0x263c('0x9')]|0x0;const kOnMessageComplete=HTTPParser[_0x263c('0xa')]|0x0;const kOnExecute=HTTPParser['kOnExecute']|0x0;const MAX_HEADER_PAIRS=0x7d0;function parserOnHeaders(_0x5c14b9,_0x4f15e1){if(this[_0x263c('0xb')]<=0x0||this['_headers'][_0x263c('0xc')]<this[_0x263c('0xb')]){this[_0x263c('0xd')]=this['_headers'][_0x263c('0xe')](_0x5c14b9);}this[_0x263c('0xf')]+=_0x4f15e1;}function parserOnHeadersComplete(_0x3c2c19,_0x2fae4f,_0x4e6abe,_0x893c61,_0x53ceca,_0x471825,_0x7097a9,_0x2ca9f4,_0x171ca5){const _0x28ffcb=this;const {socket}=_0x28ffcb;if(_0x4e6abe===undefined){_0x4e6abe=_0x28ffcb[_0x263c('0xd')];_0x28ffcb[_0x263c('0xd')]=[];}if(_0x53ceca===undefined){_0x53ceca=_0x28ffcb['_url'];_0x28ffcb[_0x263c('0xf')]='';}const _0x2fb5e7=socket&&socket['server']&&socket[_0x263c('0x10')][kIncomingMessage]||IncomingMessage;const _0x271c63=_0x28ffcb[_0x263c('0x11')]=new _0x2fb5e7(socket);_0x271c63[_0x263c('0x12')]=_0x3c2c19;_0x271c63[_0x263c('0x13')]=_0x2fae4f;_0x271c63[_0x263c('0x14')]=_0x3c2c19+'.'+_0x2fae4f;_0x271c63['url']=_0x53ceca;_0x271c63[_0x263c('0x15')]=_0x2ca9f4;var _0x194e68=_0x4e6abe[_0x263c('0xc')];if(_0x28ffcb[_0x263c('0xb')]>0x0)_0x194e68=Math['min'](_0x194e68,_0x28ffcb[_0x263c('0xb')]);_0x271c63[_0x263c('0x16')](_0x4e6abe,_0x194e68);if(typeof _0x893c61===_0x263c('0x17')){_0x271c63[_0x263c('0x18')]=methods[_0x893c61];}else{_0x271c63[_0x263c('0x19')]=_0x471825;_0x271c63[_0x263c('0x1a')]=_0x7097a9;}return _0x28ffcb[_0x263c('0x1b')](_0x271c63,_0x171ca5);}function parserOnBody(_0x1bda84,_0xbb8ebf,_0xfce17c){const _0x2f2fc2=this[_0x263c('0x11')];if(_0x2f2fc2===null)return;if(_0xfce17c>0x0&&!_0x2f2fc2['_dumped']){var _0x390e16=_0x1bda84[_0x263c('0x1c')](_0xbb8ebf,_0xbb8ebf+_0xfce17c);var _0x373e45=_0x2f2fc2['push'](_0x390e16);if(!_0x373e45)readStop(this[_0x263c('0x1d')]);}}function parserOnMessageComplete(){const _0x1f814c=this;const _0xe9c54d=_0x1f814c['incoming'];if(_0xe9c54d!==null){_0xe9c54d[_0x263c('0x1e')]=!![];const _0x94d271=_0x1f814c[_0x263c('0xd')];if(_0x94d271[_0x263c('0xc')]){_0xe9c54d[_0x263c('0x16')](_0x94d271,_0x94d271[_0x263c('0xc')]);_0x1f814c['_headers']=[];_0x1f814c[_0x263c('0xf')]='';}_0xe9c54d[_0x263c('0x1f')](null);}readStart(_0x1f814c['socket']);}const parsers=new FreeList('parsers',0x3e8,function parsersCb(){const _0x3840ac=new HTTPParser(HTTPParser[_0x263c('0x20')]);cleanParser(_0x3840ac);_0x3840ac[_0x263c('0x1b')]=null;_0x3840ac[kOnHeaders]=parserOnHeaders;_0x3840ac[kOnHeadersComplete]=parserOnHeadersComplete;_0x3840ac[kOnBody]=parserOnBody;_0x3840ac[kOnMessageComplete]=parserOnMessageComplete;return _0x3840ac;});function closeParserInstance(_0x425aba){_0x425aba['close']();}function freeParser(_0x5e86c5,_0x1fd428,_0x14a081){if(_0x5e86c5){if(_0x5e86c5[_0x263c('0x21')])_0x5e86c5[_0x263c('0x22')]();cleanParser(_0x5e86c5);if(parsers['free'](_0x5e86c5)===![]){setImmediate(closeParserInstance,_0x5e86c5);}else{_0x5e86c5[_0x263c('0x23')]();}}if(_0x1fd428){_0x1fd428[_0x263c('0x24')]=null;}if(_0x14a081){_0x14a081[_0x263c('0x24')]=null;}}function httpSocketSetup(_0x5b8c98){_0x5b8c98['removeListener'](_0x263c('0x25'),ondrain);_0x5b8c98['on'](_0x263c('0x25'),ondrain);}const tokenRegExp=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/;function checkIsHttpToken(_0x1dc79b){return tokenRegExp['test'](_0x1dc79b);}const headerCharRegex=/[^\t\x20-\x7e\x80-\xff]/;function checkInvalidHeaderChar(_0x3a8e34){return headerCharRegex[_0x263c('0x26')](_0x3a8e34);}function cleanParser(_0x47634b){_0x47634b['_headers']=[];_0x47634b['_url']='';_0x47634b[_0x263c('0x1d')]=null;_0x47634b['incoming']=null;_0x47634b['outgoing']=null;_0x47634b[_0x263c('0xb')]=MAX_HEADER_PAIRS;_0x47634b[kOnExecute]=null;_0x47634b[_0x263c('0x21')]=![];}module['exports']={'_checkInvalidHeaderChar':checkInvalidHeaderChar,'_checkIsHttpToken':checkIsHttpToken,'chunkExpression':/(?:^|\W)chunked(?:$|\W)/i,'continueExpression':/(?:^|\W)100-continue(?:$|\W)/i,'CRLF':'\x0d\x0a','debug':debug,'freeParser':freeParser,'httpSocketSetup':httpSocketSetup,'methods':methods,'parsers':parsers,'kIncomingMessage':kIncomingMessage,'HTTPParser':HTTPParser};