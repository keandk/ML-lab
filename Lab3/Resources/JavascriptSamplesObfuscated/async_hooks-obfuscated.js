var _0x4e6e=['async_ids_stack','codes','asyncId','triggerAsyncId','init','before','after','destroy','promiseResolve','emitBeforeNative','emitAfterNative','string','_rawDebug','stack','captureStackTrace','internal/options','--abort-on-uncaught-exception','abort','exit','isSafeInteger','call_depth','array','length','tmp_array','function','defineProperty','name','tmp_fields','slice','apply'];(function(_0x7bc11d,_0x3b78cb){var _0x61c30b=function(_0x59419b){while(--_0x59419b){_0x7bc11d['push'](_0x7bc11d['shift']());}};_0x61c30b(++_0x3b78cb);}(_0x4e6e,0x79));var _0x58c3=function(_0x5682e8,_0x1602ce){_0x5682e8=_0x5682e8-0x0;var _0x174dae=_0x4e6e[_0x5682e8];return _0x174dae;};'use strict';const {ERR_ASYNC_TYPE,ERR_INVALID_ASYNC_ID}=require('internal/errors')[_0x58c3('0x0')];const async_wrap=internalBinding('async_wrap');const {async_hook_fields,async_id_fields,owner_symbol}=async_wrap;const {pushAsyncIds:pushAsyncIds_,popAsyncIds:popAsyncIds_}=async_wrap;const {enablePromiseHook,disablePromiseHook}=async_wrap;const active_hooks={'array':[],'call_depth':0x0,'tmp_array':null,'tmp_fields':null};const {registerDestroyHook}=async_wrap;const {kInit,kBefore,kAfter,kDestroy,kTotals,kPromiseResolve,kCheck,kExecutionAsyncId,kAsyncIdCounter,kTriggerAsyncId,kDefaultTriggerAsyncId,kStackLength}=async_wrap['constants'];const async_id_symbol=Symbol(_0x58c3('0x1'));const trigger_async_id_symbol=Symbol(_0x58c3('0x2'));const init_symbol=Symbol(_0x58c3('0x3'));const before_symbol=Symbol(_0x58c3('0x4'));const after_symbol=Symbol(_0x58c3('0x5'));const destroy_symbol=Symbol(_0x58c3('0x6'));const promise_resolve_symbol=Symbol(_0x58c3('0x7'));const emitBeforeNative=emitHookFactory(before_symbol,_0x58c3('0x8'));const emitAfterNative=emitHookFactory(after_symbol,_0x58c3('0x9'));const emitDestroyNative=emitHookFactory(destroy_symbol,'emitDestroyNative');const emitPromiseResolveNative=emitHookFactory(promise_resolve_symbol,'emitPromiseResolveNative');function fatalError(_0x25eb2f){if(typeof _0x25eb2f['stack']===_0x58c3('0xa')){process[_0x58c3('0xb')](_0x25eb2f[_0x58c3('0xc')]);}else{const _0x550715={'message':_0x25eb2f};Error[_0x58c3('0xd')](_0x550715,fatalError);process['_rawDebug'](_0x550715['stack']);}const {getOptionValue}=require(_0x58c3('0xe'));if(getOptionValue(_0x58c3('0xf'))){process[_0x58c3('0x10')]();}process[_0x58c3('0x11')](0x1);}function validateAsyncId(_0x2ba377,_0x50fd6e){if(async_hook_fields[kCheck]<=0x0)return;if(!Number[_0x58c3('0x12')](_0x2ba377)||_0x2ba377<-0x1){fatalError(new ERR_INVALID_ASYNC_ID(_0x50fd6e,_0x2ba377));}}function emitInitNative(_0x5d3b84,_0x1587a2,_0x48c013,_0xc686c2){active_hooks[_0x58c3('0x13')]+=0x1;try{for(var _0x25bf0c=0x0;_0x25bf0c<active_hooks[_0x58c3('0x14')][_0x58c3('0x15')];_0x25bf0c++){if(typeof active_hooks['array'][_0x25bf0c][init_symbol]==='function'){active_hooks[_0x58c3('0x14')][_0x25bf0c][init_symbol](_0x5d3b84,_0x1587a2,_0x48c013,_0xc686c2);}}}catch(_0x105b5b){fatalError(_0x105b5b);}finally{active_hooks[_0x58c3('0x13')]-=0x1;}if(active_hooks['call_depth']===0x0&&active_hooks[_0x58c3('0x16')]!==null){restoreActiveHooks();}}function emitHookFactory(_0x40a9c9,_0x1276d4){const _0x409549=function(_0x4ddb3c){active_hooks[_0x58c3('0x13')]+=0x1;try{for(var _0x35b5ca=0x0;_0x35b5ca<active_hooks[_0x58c3('0x14')][_0x58c3('0x15')];_0x35b5ca++){if(typeof active_hooks[_0x58c3('0x14')][_0x35b5ca][_0x40a9c9]===_0x58c3('0x17')){active_hooks['array'][_0x35b5ca][_0x40a9c9](_0x4ddb3c);}}}catch(_0x58a68b){fatalError(_0x58a68b);}finally{active_hooks['call_depth']-=0x1;}if(active_hooks[_0x58c3('0x13')]===0x0&&active_hooks[_0x58c3('0x16')]!==null){restoreActiveHooks();}};Object[_0x58c3('0x18')](_0x409549,_0x58c3('0x19'),{'value':_0x1276d4});return _0x409549;}function getHookArrays(){if(active_hooks[_0x58c3('0x13')]===0x0)return[active_hooks['array'],async_hook_fields];if(active_hooks['tmp_array']===null)storeActiveHooks();return[active_hooks[_0x58c3('0x16')],active_hooks[_0x58c3('0x1a')]];}function storeActiveHooks(){active_hooks['tmp_array']=active_hooks[_0x58c3('0x14')][_0x58c3('0x1b')]();active_hooks['tmp_fields']=[];copyHooks(active_hooks[_0x58c3('0x1a')],async_hook_fields);}function copyHooks(_0x48cc7a,_0x5dd5ba){_0x48cc7a[kInit]=_0x5dd5ba[kInit];_0x48cc7a[kBefore]=_0x5dd5ba[kBefore];_0x48cc7a[kAfter]=_0x5dd5ba[kAfter];_0x48cc7a[kDestroy]=_0x5dd5ba[kDestroy];_0x48cc7a[kPromiseResolve]=_0x5dd5ba[kPromiseResolve];}function restoreActiveHooks(){active_hooks[_0x58c3('0x14')]=active_hooks[_0x58c3('0x16')];copyHooks(async_hook_fields,active_hooks[_0x58c3('0x1a')]);active_hooks['tmp_array']=null;active_hooks[_0x58c3('0x1a')]=null;}function enableHooks(){enablePromiseHook();async_hook_fields[kCheck]+=0x1;}function disableHooks(){disablePromiseHook();async_hook_fields[kCheck]-=0x1;}function newAsyncId(){return++async_id_fields[kAsyncIdCounter];}function getOrSetAsyncId(_0x4be376){if(_0x4be376['hasOwnProperty'](async_id_symbol)){return _0x4be376[async_id_symbol];}return _0x4be376[async_id_symbol]=newAsyncId();}function getDefaultTriggerAsyncId(){let _0x357ea3=async_id_fields[kDefaultTriggerAsyncId];if(_0x357ea3<0x0)_0x357ea3=async_id_fields[kExecutionAsyncId];return _0x357ea3;}function clearDefaultTriggerAsyncId(){async_id_fields[kDefaultTriggerAsyncId]=-0x1;}function defaultTriggerAsyncIdScope(_0x429c9,_0x295c8f,..._0x257d3a){if(_0x429c9===undefined)return Reflect[_0x58c3('0x1c')](_0x295c8f,null,_0x257d3a);const _0xb5e9ca=async_id_fields[kDefaultTriggerAsyncId];async_id_fields[kDefaultTriggerAsyncId]=_0x429c9;let _0x149adc;try{_0x149adc=Reflect['apply'](_0x295c8f,null,_0x257d3a);}finally{async_id_fields[kDefaultTriggerAsyncId]=_0xb5e9ca;}return _0x149adc;}function initHooksExist(){return async_hook_fields[kInit]>0x0;}function afterHooksExist(){return async_hook_fields[kAfter]>0x0;}function destroyHooksExist(){return async_hook_fields[kDestroy]>0x0;}function emitInitScript(_0x1834aa,_0x5e5e22,_0x2737b4,_0x24f8a4){validateAsyncId(_0x1834aa,_0x58c3('0x1'));if(_0x2737b4!==null)validateAsyncId(_0x2737b4,_0x58c3('0x2'));if(async_hook_fields[kCheck]>0x0&&(typeof _0x5e5e22!==_0x58c3('0xa')||_0x5e5e22[_0x58c3('0x15')]<=0x0)){throw new ERR_ASYNC_TYPE(_0x5e5e22);}if(async_hook_fields[kInit]===0x0)return;if(_0x2737b4===null){_0x2737b4=getDefaultTriggerAsyncId();}emitInitNative(_0x1834aa,_0x5e5e22,_0x2737b4,_0x24f8a4);}function emitBeforeScript(_0x2e8fa3,_0x1d403b){validateAsyncId(_0x2e8fa3,_0x58c3('0x1'));validateAsyncId(_0x1d403b,'triggerAsyncId');pushAsyncIds(_0x2e8fa3,_0x1d403b);if(async_hook_fields[kBefore]>0x0)emitBeforeNative(_0x2e8fa3);}function emitAfterScript(_0x2c07a2){validateAsyncId(_0x2c07a2,_0x58c3('0x1'));if(async_hook_fields[kAfter]>0x0)emitAfterNative(_0x2c07a2);popAsyncIds(_0x2c07a2);}function emitDestroyScript(_0x28082e){validateAsyncId(_0x28082e,_0x58c3('0x1'));if(async_hook_fields[kDestroy]===0x0||_0x28082e<=0x0)return;async_wrap['queueDestroyAsyncId'](_0x28082e);}function clearAsyncIdStack(){async_id_fields[kExecutionAsyncId]=0x0;async_id_fields[kTriggerAsyncId]=0x0;async_hook_fields[kStackLength]=0x0;}function hasAsyncIdStack(){return async_hook_fields[kStackLength]>0x0;}function pushAsyncIds(_0xc62f8a,_0x46f041){const _0x3ee194=async_hook_fields[kStackLength];if(_0x3ee194*0x2>=async_wrap[_0x58c3('0x1d')][_0x58c3('0x15')])return pushAsyncIds_(_0xc62f8a,_0x46f041);async_wrap['async_ids_stack'][_0x3ee194*0x2]=async_id_fields[kExecutionAsyncId];async_wrap['async_ids_stack'][_0x3ee194*0x2+0x1]=async_id_fields[kTriggerAsyncId];async_hook_fields[kStackLength]++;async_id_fields[kExecutionAsyncId]=_0xc62f8a;async_id_fields[kTriggerAsyncId]=_0x46f041;}function popAsyncIds(_0x118b8f){if(async_hook_fields[kStackLength]===0x0)return![];const _0x5a536e=async_hook_fields[kStackLength];if(async_hook_fields[kCheck]>0x0&&async_id_fields[kExecutionAsyncId]!==_0x118b8f){return popAsyncIds_(_0x118b8f);}const _0x2ae153=_0x5a536e-0x1;async_id_fields[kExecutionAsyncId]=async_wrap['async_ids_stack'][0x2*_0x2ae153];async_id_fields[kTriggerAsyncId]=async_wrap['async_ids_stack'][0x2*_0x2ae153+0x1];async_hook_fields[kStackLength]=_0x2ae153;return _0x2ae153>0x0;}function executionAsyncId(){return async_id_fields[kExecutionAsyncId];}function triggerAsyncId(){return async_id_fields[kTriggerAsyncId];}module['exports']={'executionAsyncId':executionAsyncId,'triggerAsyncId':triggerAsyncId,'getHookArrays':getHookArrays,'symbols':{'async_id_symbol':async_id_symbol,'trigger_async_id_symbol':trigger_async_id_symbol,'init_symbol':init_symbol,'before_symbol':before_symbol,'after_symbol':after_symbol,'destroy_symbol':destroy_symbol,'promise_resolve_symbol':promise_resolve_symbol,'owner_symbol':owner_symbol},'constants':{'kInit':kInit,'kBefore':kBefore,'kAfter':kAfter,'kDestroy':kDestroy,'kTotals':kTotals,'kPromiseResolve':kPromiseResolve},'enableHooks':enableHooks,'disableHooks':disableHooks,'clearDefaultTriggerAsyncId':clearDefaultTriggerAsyncId,'clearAsyncIdStack':clearAsyncIdStack,'hasAsyncIdStack':hasAsyncIdStack,'newAsyncId':newAsyncId,'getOrSetAsyncId':getOrSetAsyncId,'getDefaultTriggerAsyncId':getDefaultTriggerAsyncId,'defaultTriggerAsyncIdScope':defaultTriggerAsyncIdScope,'initHooksExist':initHooksExist,'afterHooksExist':afterHooksExist,'destroyHooksExist':destroyHooksExist,'emitInit':emitInitScript,'emitBefore':emitBeforeScript,'emitAfter':emitAfterScript,'emitDestroy':emitDestroyScript,'registerDestroyHook':registerDestroyHook,'nativeHooks':{'init':emitInitNative,'before':emitBeforeNative,'after':emitAfterNative,'destroy':emitDestroyNative,'promise_resolve':emitPromiseResolveNative}};