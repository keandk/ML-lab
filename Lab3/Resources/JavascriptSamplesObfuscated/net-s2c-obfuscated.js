var _0x1bec=['alloc','utf','utf8','repeat','invalid\x20type:\x20','pipe','listen','connect','received','end','exit','writable','prototype','function','once','emit','prependListener','dest','drain','flow','nextTick','bind','readable','../common.js','PORT','createBenchmark','asc','buf'];(function(_0x2d59a8,_0x36c2f){var _0x251e36=function(_0x4d01b5){while(--_0x4d01b5){_0x2d59a8['push'](_0x2d59a8['shift']());}};_0x251e36(++_0x36c2f);}(_0x1bec,0x6b));var _0x5e68=function(_0x487a6b,_0x59535b){_0x487a6b=_0x487a6b-0x0;var _0x31268c=_0x1bec[_0x487a6b];return _0x31268c;};// Test the speed of .pipe() with sockets
'use strict';const common=require(_0x5e68('0x0'));const PORT=common[_0x5e68('0x1')];const bench=common[_0x5e68('0x2')](main,{'len':[0x40,0x19000,0x400*0x400*0x10],'type':['utf',_0x5e68('0x3'),_0x5e68('0x4')],'dur':[0x5]});var chunk;var encoding;function main({dur,len,type}){switch(type){case _0x5e68('0x4'):chunk=Buffer[_0x5e68('0x5')](len,'x');break;case _0x5e68('0x6'):encoding=_0x5e68('0x7');chunk='Ã¼'[_0x5e68('0x8')](len/0x2);break;case _0x5e68('0x3'):encoding='ascii';chunk='x'[_0x5e68('0x8')](len);break;default:throw new Error(_0x5e68('0x9')+type);}const _0x532feb=new Reader();const _0x376134=new Writer();const _0x466b7d=net['createServer'](_0x17d7c5=>{_0x532feb[_0x5e68('0xa')](_0x17d7c5);});_0x466b7d[_0x5e68('0xb')](PORT,()=>{const _0x13f547=net[_0x5e68('0xc')](PORT);_0x13f547['on'](_0x5e68('0xc'),()=>{bench['start']();_0x13f547[_0x5e68('0xa')](_0x376134);setTimeout(()=>{const _0x2938ef=_0x376134[_0x5e68('0xd')];const _0x1052cd=_0x2938ef*0x8/(0x400*0x400*0x400);bench[_0x5e68('0xe')](_0x1052cd);process[_0x5e68('0xf')](0x0);},dur*0x3e8);});});}const net=require('net');function Writer(){this[_0x5e68('0xd')]=0x0;this[_0x5e68('0x10')]=!![];}Writer[_0x5e68('0x11')]['write']=function(_0x310692,_0x50e0cf,_0x30296d){this[_0x5e68('0xd')]+=_0x310692['length'];if(typeof _0x50e0cf===_0x5e68('0x12'))_0x50e0cf();else if(typeof _0x30296d===_0x5e68('0x12'))_0x30296d();return!![];};Writer[_0x5e68('0x11')]['on']=function(){};Writer[_0x5e68('0x11')][_0x5e68('0x13')]=function(){};Writer[_0x5e68('0x11')][_0x5e68('0x14')]=function(){};Writer[_0x5e68('0x11')][_0x5e68('0x15')]=function(){};function flow(){const _0x2332cc=this[_0x5e68('0x16')];const _0x13ee8a=_0x2332cc['write'](chunk,encoding);if(!_0x13ee8a)_0x2332cc[_0x5e68('0x13')](_0x5e68('0x17'),this[_0x5e68('0x18')]);else process[_0x5e68('0x19')](this[_0x5e68('0x18')]);}function Reader(){this[_0x5e68('0x18')]=flow[_0x5e68('0x1a')](this);this[_0x5e68('0x1b')]=!![];}Reader['prototype'][_0x5e68('0xa')]=function(_0x45e7a0){this[_0x5e68('0x16')]=_0x45e7a0;this[_0x5e68('0x18')]();return _0x45e7a0;};