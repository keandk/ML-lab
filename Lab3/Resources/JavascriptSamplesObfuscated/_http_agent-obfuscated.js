var _0x2581=['keepAlive','maxSockets','defaultMaxSockets','maxFreeSockets','getName','agent.on(free)','writable','requests','length','_httpMessage','shouldKeepAlive','destroy','keepSocketAlive','removeSocket','setPrototypeOf','prototype','createConnection','host','port','localAddress','family','socketPath','servername','shift','_handle','asyncReset','function','getAsyncId','reuseSocket','push','createSocket','wait\x20for\x20socket','_agentKey','encoding','getHeader','startsWith','indexOf','split','CLIENT\x20socket\x20onFree','free','close','CLIENT\x20socket\x20onRemove','removeListener','agentRemove','writable:','splice','removeSocket,\x20have\x20a\x20request,\x20make\x20a\x20socket','setKeepAlive','keepAliveMsecs','unref','have\x20free\x20socket','ref','keys','nextTick','emit','onSocket','timeout','setTimeout','once','response','end','exports','events','internal/util/debuglog','internal/async_hooks','call','defaultPort','options','path','sockets','freeSockets'];(function(_0x406ce0,_0x653854){var _0x342c94=function(_0x55e4c2){while(--_0x55e4c2){_0x406ce0['push'](_0x406ce0['shift']());}};_0x342c94(++_0x653854);}(_0x2581,0x113));var _0x3763=function(_0x285b78,_0xc0bd4d){_0x285b78=_0x285b78-0x0;var _0x35bae4=_0x2581[_0x285b78];return _0x35bae4;};// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
'use strict';const net=require('net');const EventEmitter=require(_0x3763('0x0'));const debug=require(_0x3763('0x1'))['debuglog']('http');const {async_id_symbol}=require(_0x3763('0x2'))['symbols'];function Agent(_0x566726){if(!(this instanceof Agent))return new Agent(_0x566726);EventEmitter[_0x3763('0x3')](this);this[_0x3763('0x4')]=0x50;this['protocol']='http:';this[_0x3763('0x5')]={..._0x566726};this[_0x3763('0x5')][_0x3763('0x6')]=null;this['requests']={};this[_0x3763('0x7')]={};this[_0x3763('0x8')]={};this['keepAliveMsecs']=this[_0x3763('0x5')]['keepAliveMsecs']||0x3e8;this[_0x3763('0x9')]=this[_0x3763('0x5')][_0x3763('0x9')]||![];this['maxSockets']=this[_0x3763('0x5')][_0x3763('0xa')]||Agent[_0x3763('0xb')];this['maxFreeSockets']=this[_0x3763('0x5')][_0x3763('0xc')]||0x100;this['on']('free',(_0x4267e0,_0x566726)=>{var _0x482295=this[_0x3763('0xd')](_0x566726);debug(_0x3763('0xe'),_0x482295);if(_0x4267e0[_0x3763('0xf')]&&this[_0x3763('0x10')][_0x482295]&&this['requests'][_0x482295]['length']){const _0x2c2fe6=this[_0x3763('0x10')][_0x482295]['shift']();setRequestSocket(this,_0x2c2fe6,_0x4267e0);if(this['requests'][_0x482295][_0x3763('0x11')]===0x0){delete this[_0x3763('0x10')][_0x482295];}}else{var _0x345d45=_0x4267e0[_0x3763('0x12')];if(_0x345d45&&_0x345d45[_0x3763('0x13')]&&_0x4267e0[_0x3763('0xf')]&&this[_0x3763('0x9')]){var _0x5c2240=this[_0x3763('0x8')][_0x482295];var _0x3032f2=_0x5c2240?_0x5c2240['length']:0x0;var _0x4b0a9d=_0x3032f2;if(this[_0x3763('0x7')][_0x482295])_0x4b0a9d+=this[_0x3763('0x7')][_0x482295][_0x3763('0x11')];if(_0x4b0a9d>this['maxSockets']||_0x3032f2>=this['maxFreeSockets']){_0x4267e0[_0x3763('0x14')]();}else if(this[_0x3763('0x15')](_0x4267e0)){_0x5c2240=_0x5c2240||[];this[_0x3763('0x8')][_0x482295]=_0x5c2240;_0x4267e0[async_id_symbol]=-0x1;_0x4267e0['_httpMessage']=null;this[_0x3763('0x16')](_0x4267e0,_0x566726);_0x5c2240['push'](_0x4267e0);}else{_0x4267e0[_0x3763('0x14')]();}}else{_0x4267e0[_0x3763('0x14')]();}}});}Object[_0x3763('0x17')](Agent[_0x3763('0x18')],EventEmitter['prototype']);Object['setPrototypeOf'](Agent,EventEmitter);Agent[_0x3763('0xb')]=Infinity;Agent[_0x3763('0x18')][_0x3763('0x19')]=net[_0x3763('0x19')];Agent[_0x3763('0x18')][_0x3763('0xd')]=function getName(_0x413931){var _0x20fa5c=_0x413931[_0x3763('0x1a')]||'localhost';_0x20fa5c+=':';if(_0x413931[_0x3763('0x1b')])_0x20fa5c+=_0x413931[_0x3763('0x1b')];_0x20fa5c+=':';if(_0x413931[_0x3763('0x1c')])_0x20fa5c+=_0x413931[_0x3763('0x1c')];if(_0x413931[_0x3763('0x1d')]===0x4||_0x413931[_0x3763('0x1d')]===0x6)_0x20fa5c+=':'+_0x413931[_0x3763('0x1d')];if(_0x413931['socketPath'])_0x20fa5c+=':'+_0x413931[_0x3763('0x1e')];return _0x20fa5c;};Agent[_0x3763('0x18')]['addRequest']=function addRequest(_0x38d1d3,_0x211bfc,_0x79717f,_0x415130){if(typeof _0x211bfc==='string'){_0x211bfc={'host':_0x211bfc,'port':_0x79717f,'localAddress':_0x415130};}_0x211bfc={..._0x211bfc,...this[_0x3763('0x5')]};if(_0x211bfc[_0x3763('0x1e')])_0x211bfc['path']=_0x211bfc[_0x3763('0x1e')];if(!_0x211bfc['servername'])_0x211bfc[_0x3763('0x1f')]=calculateServerName(_0x211bfc,_0x38d1d3);var _0x156cf6=this['getName'](_0x211bfc);if(!this[_0x3763('0x7')][_0x156cf6]){this[_0x3763('0x7')][_0x156cf6]=[];}var _0x2ae01a=this[_0x3763('0x8')][_0x156cf6]?this['freeSockets'][_0x156cf6][_0x3763('0x11')]:0x0;var _0x3ae258=_0x2ae01a+this[_0x3763('0x7')][_0x156cf6][_0x3763('0x11')];if(_0x2ae01a){var _0x2a6726=this[_0x3763('0x8')][_0x156cf6][_0x3763('0x20')]();if(_0x2a6726['_handle']&&typeof _0x2a6726[_0x3763('0x21')][_0x3763('0x22')]===_0x3763('0x23')){_0x2a6726[_0x3763('0x21')][_0x3763('0x22')]();_0x2a6726[async_id_symbol]=_0x2a6726[_0x3763('0x21')][_0x3763('0x24')]();}if(!this[_0x3763('0x8')][_0x156cf6][_0x3763('0x11')])delete this[_0x3763('0x8')][_0x156cf6];this[_0x3763('0x25')](_0x2a6726,_0x38d1d3);setRequestSocket(this,_0x38d1d3,_0x2a6726);this['sockets'][_0x156cf6][_0x3763('0x26')](_0x2a6726);}else if(_0x3ae258<this[_0x3763('0xa')]){debug('call\x20onSocket',_0x3ae258,_0x2ae01a);this[_0x3763('0x27')](_0x38d1d3,_0x211bfc,handleSocketCreation(this,_0x38d1d3,!![]));}else{debug(_0x3763('0x28'));if(!this[_0x3763('0x10')][_0x156cf6]){this['requests'][_0x156cf6]=[];}this[_0x3763('0x10')][_0x156cf6][_0x3763('0x26')](_0x38d1d3);}};Agent[_0x3763('0x18')]['createSocket']=function createSocket(_0x5c6cc6,_0x54236f,_0x208780){_0x54236f={..._0x54236f,...this['options']};if(_0x54236f[_0x3763('0x1e')])_0x54236f[_0x3763('0x6')]=_0x54236f['socketPath'];if(!_0x54236f[_0x3763('0x1f')])_0x54236f[_0x3763('0x1f')]=calculateServerName(_0x54236f,_0x5c6cc6);var _0x267fd8=this[_0x3763('0xd')](_0x54236f);_0x54236f[_0x3763('0x29')]=_0x267fd8;debug(_0x3763('0x19'),_0x267fd8,_0x54236f);_0x54236f[_0x3763('0x2a')]=null;var _0x3852ae=![];const _0x365262=(_0x4b5a49,_0x581a38)=>{if(_0x3852ae)return;_0x3852ae=!![];if(_0x4b5a49)return _0x208780(_0x4b5a49);if(!this[_0x3763('0x7')][_0x267fd8]){this[_0x3763('0x7')][_0x267fd8]=[];}this['sockets'][_0x267fd8]['push'](_0x581a38);debug('sockets',_0x267fd8,this[_0x3763('0x7')][_0x267fd8]['length']);installListeners(this,_0x581a38,_0x54236f);_0x208780(null,_0x581a38);};const _0x415ba6=this[_0x3763('0x19')](_0x54236f,_0x365262);if(_0x415ba6)_0x365262(null,_0x415ba6);};function calculateServerName(_0xef13a0,_0x49aa3a){let _0x1ac4c0=_0xef13a0[_0x3763('0x1a')];const _0x2a6f79=_0x49aa3a[_0x3763('0x2b')](_0x3763('0x1a'));if(_0x2a6f79){if(_0x2a6f79[_0x3763('0x2c')]('[')){const _0x313b10=_0x2a6f79[_0x3763('0x2d')](']');if(_0x313b10===-0x1){_0x1ac4c0=_0x2a6f79;}else{_0x1ac4c0=_0x2a6f79['substr'](0x1,_0x313b10-0x1);}}else{_0x1ac4c0=_0x2a6f79[_0x3763('0x2e')](':',0x1)[0x0];}}return _0x1ac4c0;}function installListeners(_0x1f856a,_0x552c57,_0x3bc715){function _0x1d0ed3(){debug(_0x3763('0x2f'));_0x1f856a['emit'](_0x3763('0x30'),_0x552c57,_0x3bc715);}_0x552c57['on'](_0x3763('0x30'),_0x1d0ed3);function _0x59434d(_0x5d00a7){debug('CLIENT\x20socket\x20onClose');_0x1f856a['removeSocket'](_0x552c57,_0x3bc715);}_0x552c57['on'](_0x3763('0x31'),_0x59434d);function _0x1260c7(){debug(_0x3763('0x32'));_0x1f856a[_0x3763('0x16')](_0x552c57,_0x3bc715);_0x552c57[_0x3763('0x33')](_0x3763('0x31'),_0x59434d);_0x552c57[_0x3763('0x33')](_0x3763('0x30'),_0x1d0ed3);_0x552c57[_0x3763('0x33')](_0x3763('0x34'),_0x1260c7);}_0x552c57['on'](_0x3763('0x34'),_0x1260c7);}Agent[_0x3763('0x18')]['removeSocket']=function removeSocket(_0x39667e,_0x511064){var _0x45e82f=this[_0x3763('0xd')](_0x511064);debug('removeSocket',_0x45e82f,_0x3763('0x35'),_0x39667e[_0x3763('0xf')]);var _0x3604b7=[this['sockets']];if(!_0x39667e['writable'])_0x3604b7[_0x3763('0x26')](this[_0x3763('0x8')]);for(var _0x3405af=0x0;_0x3405af<_0x3604b7[_0x3763('0x11')];_0x3405af++){var _0x5600ef=_0x3604b7[_0x3405af];if(_0x5600ef[_0x45e82f]){var _0xe3b059=_0x5600ef[_0x45e82f]['indexOf'](_0x39667e);if(_0xe3b059!==-0x1){_0x5600ef[_0x45e82f][_0x3763('0x36')](_0xe3b059,0x1);if(_0x5600ef[_0x45e82f][_0x3763('0x11')]===0x0)delete _0x5600ef[_0x45e82f];}}}if(this[_0x3763('0x10')][_0x45e82f]&&this[_0x3763('0x10')][_0x45e82f][_0x3763('0x11')]){debug(_0x3763('0x37'));const _0x583303=this[_0x3763('0x10')][_0x45e82f][0x0];const _0x495fbb=handleSocketCreation(this,_0x583303,![]);this[_0x3763('0x27')](_0x583303,_0x511064,_0x495fbb);}};Agent['prototype']['keepSocketAlive']=function keepSocketAlive(_0xe8f0c8){_0xe8f0c8[_0x3763('0x38')](!![],this[_0x3763('0x39')]);_0xe8f0c8[_0x3763('0x3a')]();return!![];};Agent[_0x3763('0x18')][_0x3763('0x25')]=function reuseSocket(_0x9121dc,_0x577232){debug(_0x3763('0x3b'));_0x9121dc[_0x3763('0x3c')]();};Agent[_0x3763('0x18')][_0x3763('0x14')]=function destroy(){var _0x52ccff=[this[_0x3763('0x8')],this[_0x3763('0x7')]];for(var _0x1b45d=0x0;_0x1b45d<_0x52ccff[_0x3763('0x11')];_0x1b45d++){var _0x3a1eeb=_0x52ccff[_0x1b45d];var _0x1ea4fc=Object[_0x3763('0x3d')](_0x3a1eeb);for(var _0x4ebe21=0x0;_0x4ebe21<_0x1ea4fc[_0x3763('0x11')];_0x4ebe21++){var _0x50d8db=_0x3a1eeb[_0x1ea4fc[_0x4ebe21]];for(var _0x1b6412=0x0;_0x1b6412<_0x50d8db['length'];_0x1b6412++){_0x50d8db[_0x1b6412][_0x3763('0x14')]();}}}};function handleSocketCreation(_0x75c025,_0x39ecf4,_0x1b5b2b){return function handleSocketCreation_Inner(_0x4275f9,_0x3ad39b){if(_0x4275f9){process[_0x3763('0x3e')](emitErrorNT,_0x39ecf4,_0x4275f9);return;}if(_0x1b5b2b)setRequestSocket(_0x75c025,_0x39ecf4,_0x3ad39b);else _0x3ad39b[_0x3763('0x3f')]('free');};}function setRequestSocket(_0x295c5d,_0x226cf0,_0x5a8b06){_0x226cf0[_0x3763('0x40')](_0x5a8b06);const _0x4510cd=_0x295c5d[_0x3763('0x5')]['timeout']||0x0;if(_0x226cf0[_0x3763('0x41')]===undefined||_0x226cf0[_0x3763('0x41')]===_0x4510cd){return;}_0x5a8b06[_0x3763('0x42')](_0x226cf0[_0x3763('0x41')]);_0x226cf0[_0x3763('0x43')](_0x3763('0x44'),_0x4e1340=>{_0x4e1340[_0x3763('0x43')](_0x3763('0x45'),()=>{if(_0x5a8b06[_0x3763('0x41')]!==_0x4510cd){_0x5a8b06[_0x3763('0x42')](_0x4510cd);}});});}function emitErrorNT(_0x19e501,_0x540db2){_0x19e501[_0x3763('0x3f')]('error',_0x540db2);}module[_0x3763('0x46')]={'Agent':Agent,'globalAgent':new Agent()};