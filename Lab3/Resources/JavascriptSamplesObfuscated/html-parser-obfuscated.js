var _0x413d=['chars','toLowerCase','[^>]*>)','replace','noscript','env','production','warn','Mal-formatted\x20tag\x20at\x20end\x20of\x20template:\x20\x22','attrs','push','unarySlash','end','shouldDecodeNewlinesForHref','shouldDecodeNewlines','outputSourceRange','start','lowerCasedTag','NODE_ENV','tag','>\x20has\x20no\x20matching\x20end\x20tag.','[a-zA-Z_][\x5c-\x5c.0-9_a-zA-Z','source','((?:','\x5c:)?','^<\x5c/','[^>]*>','pre,textarea','expectHTML','isUnaryTag','canBeLeftOpenTag','indexOf','test','-->','shouldKeepComment','comment','substring','match','length','tagName','slice'];(function(_0x5783e7,_0x33b0a2){var _0x292b5d=function(_0x4307e6){while(--_0x4307e6){_0x5783e7['push'](_0x5783e7['shift']());}};_0x292b5d(++_0x33b0a2);}(_0x413d,0x1d8));var _0x2778=function(_0x2e9c88,_0x575cbe){_0x2e9c88=_0x2e9c88-0x0;var _0x5e294f=_0x413d[_0x2e9c88];return _0x5e294f;};import{makeMap,no}from'shared/util';import{isNonPhrasingTag}from'web/compiler/util';import{unicodeRegExp}from'core/util/lang';const attribute=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/;const dynamicArgAttribute=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/;const ncname=_0x2778('0x0')+unicodeRegExp[_0x2778('0x1')]+']*';const qnameCapture=_0x2778('0x2')+ncname+_0x2778('0x3')+ncname+')';const startTagOpen=new RegExp('^<'+qnameCapture);const startTagClose=/^\s*(\/?)>/;const endTag=new RegExp(_0x2778('0x4')+qnameCapture+_0x2778('0x5'));const doctype=/^<!DOCTYPE [^>]+>/i;const comment=/^<!\--/;const conditionalComment=/^<!\[/;export const isPlainTextElement=makeMap('script,style,textarea',!![]);const reCache={};const decodingMap={'&lt;':'<','&gt;':'>','&quot;':'\x22','&amp;':'&','&#10;':'\x0a','&#9;':'\x09','&#39;':'\x27'};const encodedAttr=/&(?:lt|gt|quot|amp|#39);/g;const encodedAttrWithNewLines=/&(?:lt|gt|quot|amp|#39|#10|#9);/g;const isIgnoreNewlineTag=makeMap(_0x2778('0x6'),!![]);const shouldIgnoreFirstNewline=(tag,html)=>tag&&isIgnoreNewlineTag(tag)&&html[0x0]==='\x0a';function decodeAttr(value,shouldDecodeNewlines){const re=shouldDecodeNewlines?encodedAttrWithNewLines:encodedAttr;return value['replace'](re,match=>decodingMap[match]);}export function parseHTML(html,options){const stack=[];const expectHTML=options[_0x2778('0x7')];const isUnaryTag=options[_0x2778('0x8')]||no;const canBeLeftOpenTag=options[_0x2778('0x9')]||no;let index=0x0;let last,lastTag;while(html){last=html;if(!lastTag||!isPlainTextElement(lastTag)){let textEnd=html[_0x2778('0xa')]('<');if(textEnd===0x0){if(comment[_0x2778('0xb')](html)){const commentEnd=html[_0x2778('0xa')](_0x2778('0xc'));if(commentEnd>=0x0){if(options[_0x2778('0xd')]){options[_0x2778('0xe')](html[_0x2778('0xf')](0x4,commentEnd),index,index+commentEnd+0x3);}advance(commentEnd+0x3);continue;}}if(conditionalComment[_0x2778('0xb')](html)){const conditionalEnd=html[_0x2778('0xa')](']>');if(conditionalEnd>=0x0){advance(conditionalEnd+0x2);continue;}}const doctypeMatch=html['match'](doctype);if(doctypeMatch){advance(doctypeMatch[0x0]['length']);continue;}const endTagMatch=html[_0x2778('0x10')](endTag);if(endTagMatch){const curIndex=index;advance(endTagMatch[0x0][_0x2778('0x11')]);parseEndTag(endTagMatch[0x1],curIndex,index);continue;}const startTagMatch=parseStartTag();if(startTagMatch){handleStartTag(startTagMatch);if(shouldIgnoreFirstNewline(startTagMatch[_0x2778('0x12')],html)){advance(0x1);}continue;}}let text,rest,next;if(textEnd>=0x0){rest=html['slice'](textEnd);while(!endTag[_0x2778('0xb')](rest)&&!startTagOpen[_0x2778('0xb')](rest)&&!comment[_0x2778('0xb')](rest)&&!conditionalComment[_0x2778('0xb')](rest)){next=rest[_0x2778('0xa')]('<',0x1);if(next<0x0)break;textEnd+=next;rest=html[_0x2778('0x13')](textEnd);}text=html['substring'](0x0,textEnd);}if(textEnd<0x0){text=html;}if(text){advance(text[_0x2778('0x11')]);}if(options[_0x2778('0x14')]&&text){options['chars'](text,index-text[_0x2778('0x11')],index);}}else{let endTagLength=0x0;const stackedTag=lastTag[_0x2778('0x15')]();const reStackedTag=reCache[stackedTag]||(reCache[stackedTag]=new RegExp('([\x5cs\x5cS]*?)(</'+stackedTag+_0x2778('0x16'),'i'));const rest=html[_0x2778('0x17')](reStackedTag,function(all,text,endTag){endTagLength=endTag[_0x2778('0x11')];if(!isPlainTextElement(stackedTag)&&stackedTag!==_0x2778('0x18')){text=text[_0x2778('0x17')](/<!\--([\s\S]*?)-->/g,'$1')[_0x2778('0x17')](/<!\[CDATA\[([\s\S]*?)]]>/g,'$1');}if(shouldIgnoreFirstNewline(stackedTag,text)){text=text[_0x2778('0x13')](0x1);}if(options[_0x2778('0x14')]){options[_0x2778('0x14')](text);}return'';});index+=html[_0x2778('0x11')]-rest[_0x2778('0x11')];html=rest;parseEndTag(stackedTag,index-endTagLength,index);}if(html===last){options[_0x2778('0x14')]&&options[_0x2778('0x14')](html);if(process[_0x2778('0x19')]['NODE_ENV']!==_0x2778('0x1a')&&!stack['length']&&options[_0x2778('0x1b')]){options[_0x2778('0x1b')](_0x2778('0x1c')+html+'\x22',{'start':index+html[_0x2778('0x11')]});}break;}}parseEndTag();function advance(n){index+=n;html=html[_0x2778('0xf')](n);}function parseStartTag(){const start=html[_0x2778('0x10')](startTagOpen);if(start){const match={'tagName':start[0x1],'attrs':[],'start':index};advance(start[0x0][_0x2778('0x11')]);let end,attr;while(!(end=html['match'](startTagClose))&&(attr=html[_0x2778('0x10')](dynamicArgAttribute)||html[_0x2778('0x10')](attribute))){attr['start']=index;advance(attr[0x0][_0x2778('0x11')]);attr['end']=index;match[_0x2778('0x1d')][_0x2778('0x1e')](attr);}if(end){match[_0x2778('0x1f')]=end[0x1];advance(end[0x0][_0x2778('0x11')]);match[_0x2778('0x20')]=index;return match;}}}function handleStartTag(match){const tagName=match[_0x2778('0x12')];const unarySlash=match['unarySlash'];if(expectHTML){if(lastTag==='p'&&isNonPhrasingTag(tagName)){parseEndTag(lastTag);}if(canBeLeftOpenTag(tagName)&&lastTag===tagName){parseEndTag(tagName);}}const unary=isUnaryTag(tagName)||!!unarySlash;const l=match[_0x2778('0x1d')][_0x2778('0x11')];const attrs=new Array(l);for(let i=0x0;i<l;i++){const args=match[_0x2778('0x1d')][i];const value=args[0x3]||args[0x4]||args[0x5]||'';const shouldDecodeNewlines=tagName==='a'&&args[0x1]==='href'?options[_0x2778('0x21')]:options[_0x2778('0x22')];attrs[i]={'name':args[0x1],'value':decodeAttr(value,shouldDecodeNewlines)};if(process[_0x2778('0x19')]['NODE_ENV']!==_0x2778('0x1a')&&options[_0x2778('0x23')]){attrs[i][_0x2778('0x24')]=args[_0x2778('0x24')]+args[0x0][_0x2778('0x10')](/^\s*/)['length'];attrs[i][_0x2778('0x20')]=args[_0x2778('0x20')];}}if(!unary){stack[_0x2778('0x1e')]({'tag':tagName,'lowerCasedTag':tagName[_0x2778('0x15')](),'attrs':attrs,'start':match[_0x2778('0x24')],'end':match[_0x2778('0x20')]});lastTag=tagName;}if(options[_0x2778('0x24')]){options[_0x2778('0x24')](tagName,attrs,unary,match[_0x2778('0x24')],match[_0x2778('0x20')]);}}function parseEndTag(tagName,start,end){let pos,lowerCasedTagName;if(start==null)start=index;if(end==null)end=index;if(tagName){lowerCasedTagName=tagName[_0x2778('0x15')]();for(pos=stack['length']-0x1;pos>=0x0;pos--){if(stack[pos][_0x2778('0x25')]===lowerCasedTagName){break;}}}else{pos=0x0;}if(pos>=0x0){for(let i=stack[_0x2778('0x11')]-0x1;i>=pos;i--){if(process[_0x2778('0x19')][_0x2778('0x26')]!==_0x2778('0x1a')&&(i>pos||!tagName)&&options[_0x2778('0x1b')]){options['warn']('tag\x20<'+stack[i][_0x2778('0x27')]+_0x2778('0x28'),{'start':stack[i][_0x2778('0x24')],'end':stack[i]['end']});}if(options[_0x2778('0x20')]){options['end'](stack[i][_0x2778('0x27')],start,end);}}stack[_0x2778('0x11')]=pos;lastTag=pos&&stack[pos-0x1][_0x2778('0x27')];}else if(lowerCasedTagName==='br'){if(options[_0x2778('0x24')]){options[_0x2778('0x24')](tagName,[],!![],start,end);}}else if(lowerCasedTagName==='p'){if(options[_0x2778('0x24')]){options[_0x2778('0x24')](tagName,[],![],start,end);}if(options[_0x2778('0x20')]){options[_0x2778('0x20')](tagName,start,end);}}}}