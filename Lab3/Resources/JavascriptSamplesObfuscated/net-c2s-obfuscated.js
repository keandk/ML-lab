var _0x2cf9=['asc','buf','utf','ascii','repeat','createServer','pipe','listen','connect','writable','prototype','received','length','function','once','emit','prependListener','dest','write','flow','nextTick','bind'];(function(_0x1e42e2,_0x56223b){var _0x3b5fee=function(_0x416bae){while(--_0x416bae){_0x1e42e2['push'](_0x1e42e2['shift']());}};_0x3b5fee(++_0x56223b);}(_0x2cf9,0x6e));var _0x5108=function(_0xb9ea6c,_0x543208){_0xb9ea6c=_0xb9ea6c-0x0;var _0x7d7913=_0x2cf9[_0xb9ea6c];return _0x7d7913;};// Test the speed of .pipe() with sockets
'use strict';const common=require('../common.js');const net=require('net');const PORT=common['PORT'];const bench=common['createBenchmark'](main,{'len':[0x40,0x19000,0x400*0x400*0x10],'type':['utf',_0x5108('0x0'),_0x5108('0x1')],'dur':[0x5]});var chunk;var encoding;function main({dur,len,type}){switch(type){case _0x5108('0x1'):chunk=Buffer['alloc'](len,'x');break;case _0x5108('0x2'):encoding='utf8';chunk='Ã¼'['repeat'](len/0x2);break;case _0x5108('0x0'):encoding=_0x5108('0x3');chunk='x'[_0x5108('0x4')](len);break;default:throw new Error('invalid\x20type:\x20'+type);}const _0x1d33e=new Reader();const _0x4086cd=new Writer();const _0x4880bf=net[_0x5108('0x5')](_0x11bf85=>{_0x11bf85[_0x5108('0x6')](_0x4086cd);});_0x4880bf[_0x5108('0x7')](PORT,()=>{const _0xfdf934=net['connect'](PORT);_0xfdf934['on'](_0x5108('0x8'),()=>{bench['start']();_0x1d33e[_0x5108('0x6')](_0xfdf934);setTimeout(()=>{const _0x30e405=_0x4086cd['received'];const _0x194fb0=_0x30e405*0x8/(0x400*0x400*0x400);bench['end'](_0x194fb0);process['exit'](0x0);},dur*0x3e8);});});}function Writer(){this['received']=0x0;this[_0x5108('0x9')]=!![];}Writer[_0x5108('0xa')]['write']=function(_0x2eb0dd,_0x49e844,_0x5de6d7){this[_0x5108('0xb')]+=_0x2eb0dd[_0x5108('0xc')];if(typeof _0x49e844===_0x5108('0xd'))_0x49e844();else if(typeof _0x5de6d7===_0x5108('0xd'))_0x5de6d7();return!![];};Writer[_0x5108('0xa')]['on']=function(){};Writer[_0x5108('0xa')][_0x5108('0xe')]=function(){};Writer['prototype'][_0x5108('0xf')]=function(){};Writer[_0x5108('0xa')][_0x5108('0x10')]=function(){};function flow(){const _0x711793=this[_0x5108('0x11')];const _0x620ee9=_0x711793[_0x5108('0x12')](chunk,encoding);if(!_0x620ee9)_0x711793[_0x5108('0xe')]('drain',this[_0x5108('0x13')]);else process[_0x5108('0x14')](this[_0x5108('0x13')]);}function Reader(){this[_0x5108('0x13')]=flow[_0x5108('0x15')](this);this['readable']=!![];}Reader['prototype'][_0x5108('0x6')]=function(_0x4b966e){this['dest']=_0x4b966e;this[_0x5108('0x13')]();return _0x4b966e;};