var _0x318d=['BatchedBridge','win32','calls','length','toBe','InteractionManager','resetModules','addListener','interactionStart','Events','interactionComplete','toThrow','createInteractionHandle','not','toBeCalled','runAllTimers','notifies\x20asynchronously\x20when\x20interaction\x20stops','mockClear','clearInteractionHandle','runs\x20tasks\x20asynchronously\x20when\x20there\x20are\x20interactions','runAfterInteractions','runs\x20tasks\x20when\x20interactions\x20complete','does\x20not\x20run\x20tasks\x20twice','promise\x20tasks','should\x20run\x20a\x20basic\x20promise\x20task','gen1','should\x20handle\x20nested\x20promises','gen2','then','should\x20pause\x20promise\x20tasks\x20during\x20interactions\x20then\x20resume','runOnlyPendingTimers','setDeadline','getEventLoopRunningTime','mockReturnValue','should\x20execute\x20tasks\x20one\x20at\x20a\x20time\x20if\x20deadline\x20exceeded','gen4','resolves\x20async\x20tasks\x20recursively\x20before\x20other\x20queued\x20tasks','should\x20also\x20work\x20with\x20a\x20deadline','mock','ErrorUtils'];(function(_0x2f5cc0,_0x2dab7e){var _0x13869f=function(_0x5348a3){while(--_0x5348a3){_0x2f5cc0['push'](_0x2f5cc0['shift']());}};_0x13869f(++_0x2dab7e);}(_0x318d,0x166));var _0x9e81=function(_0x5821ae,_0x152dcb){_0x5821ae=_0x5821ae-0x0;var _0x418340=_0x318d[_0x5821ae];return _0x418340;};/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @format
 * @emails oncall+react_native
 */
'use strict';jest[_0x9e81('0x0')](_0x9e81('0x1'))[_0x9e81('0x0')](_0x9e81('0x2'));const isWindows=process['platform']===_0x9e81('0x3');function expectToBeCalledOnce(_0x2b1784){if(isWindows){return;}expect(_0x2b1784[_0x9e81('0x0')][_0x9e81('0x4')][_0x9e81('0x5')])[_0x9e81('0x6')](0x1);}describe(_0x9e81('0x7'),()=>{let _0x29357f;let _0x46aee0;let _0x5c45dd;beforeEach(()=>{jest[_0x9e81('0x8')]();_0x29357f=require(_0x9e81('0x7'));_0x46aee0=jest['fn']();_0x5c45dd=jest['fn']();_0x29357f[_0x9e81('0x9')](_0x29357f['Events'][_0x9e81('0xa')],_0x46aee0);_0x29357f[_0x9e81('0x9')](_0x29357f[_0x9e81('0xb')][_0x9e81('0xc')],_0x5c45dd);});it('throws\x20when\x20clearing\x20an\x20undefined\x20handle',()=>{expect(()=>_0x29357f['clearInteractionHandle']())[_0x9e81('0xd')]();});it('notifies\x20asynchronously\x20when\x20interaction\x20starts',()=>{_0x29357f[_0x9e81('0xe')]();expect(_0x46aee0)[_0x9e81('0xf')][_0x9e81('0x10')]();jest[_0x9e81('0x11')]();expect(_0x46aee0)[_0x9e81('0x10')]();expect(_0x5c45dd)['not'][_0x9e81('0x10')]();});it(_0x9e81('0x12'),()=>{const _0x5d5b11=_0x29357f[_0x9e81('0xe')]();jest[_0x9e81('0x11')]();_0x46aee0[_0x9e81('0x13')]();_0x29357f[_0x9e81('0x14')](_0x5d5b11);expect(_0x5c45dd)[_0x9e81('0xf')][_0x9e81('0x10')]();jest['runAllTimers']();expect(_0x46aee0)[_0x9e81('0xf')][_0x9e81('0x10')]();expect(_0x5c45dd)['toBeCalled']();});it('does\x20not\x20notify\x20when\x20started\x20&\x20stopped\x20in\x20same\x20event\x20loop',()=>{const _0x41e7e5=_0x29357f['createInteractionHandle']();_0x29357f['clearInteractionHandle'](_0x41e7e5);jest[_0x9e81('0x11')]();expect(_0x46aee0)['not'][_0x9e81('0x10')]();expect(_0x5c45dd)[_0x9e81('0xf')]['toBeCalled']();});it('does\x20not\x20notify\x20when\x20going\x20from\x20two\x20->\x20one\x20active\x20interactions',()=>{_0x29357f['createInteractionHandle']();const _0x338120=_0x29357f[_0x9e81('0xe')]();jest['runAllTimers']();_0x46aee0['mockClear']();_0x5c45dd[_0x9e81('0x13')]();_0x29357f['clearInteractionHandle'](_0x338120);jest['runAllTimers']();expect(_0x46aee0)[_0x9e81('0xf')][_0x9e81('0x10')]();expect(_0x5c45dd)[_0x9e81('0xf')]['toBeCalled']();});it(_0x9e81('0x15'),()=>{const _0x4f28b8=jest['fn']();_0x29357f[_0x9e81('0x16')](_0x4f28b8);expect(_0x4f28b8)[_0x9e81('0xf')]['toBeCalled']();jest['runAllTimers']();expect(_0x4f28b8)[_0x9e81('0x10')]();});it(_0x9e81('0x17'),()=>{const _0xdb7f2e=jest['fn']();const _0x2bf2d4=_0x29357f['createInteractionHandle']();_0x29357f[_0x9e81('0x16')](_0xdb7f2e);jest['runAllTimers']();_0x29357f[_0x9e81('0x14')](_0x2bf2d4);expect(_0xdb7f2e)['not'][_0x9e81('0x10')]();jest['runAllTimers']();expect(_0xdb7f2e)[_0x9e81('0x10')]();});it(_0x9e81('0x18'),()=>{const _0x577ddd=jest['fn']();const _0x1d0768=jest['fn']();_0x29357f['runAfterInteractions'](_0x577ddd);jest[_0x9e81('0x11')]();_0x29357f[_0x9e81('0x16')](_0x1d0768);jest[_0x9e81('0x11')]();expectToBeCalledOnce(_0x577ddd);});it('runs\x20tasks\x20added\x20while\x20processing\x20previous\x20tasks',()=>{const _0x53f0d5=jest['fn'](()=>{_0x29357f['runAfterInteractions'](_0x269ca5);});const _0x269ca5=jest['fn']();_0x29357f[_0x9e81('0x16')](_0x53f0d5);expect(_0x269ca5)['not'][_0x9e81('0x10')]();jest[_0x9e81('0x11')]();expect(_0x53f0d5)[_0x9e81('0x10')]();expect(_0x269ca5)[_0x9e81('0x10')]();});it('allows\x20tasks\x20to\x20be\x20cancelled',()=>{const _0x4b5342=jest['fn']();const _0x27fd7a=jest['fn']();const _0x42800f=_0x29357f[_0x9e81('0x16')](_0x4b5342);_0x29357f[_0x9e81('0x16')](_0x27fd7a);expect(_0x4b5342)[_0x9e81('0xf')][_0x9e81('0x10')]();expect(_0x27fd7a)[_0x9e81('0xf')][_0x9e81('0x10')]();_0x42800f['cancel']();jest[_0x9e81('0x11')]();expect(_0x4b5342)['not'][_0x9e81('0x10')]();expect(_0x27fd7a)[_0x9e81('0x10')]();});});describe(_0x9e81('0x19'),()=>{let _0x1880cd;let _0x555b99;let _0x157d62;function _0x547a6f(_0x5566cf){return jest['fn'](()=>{expect(++_0x157d62)['toBe'](_0x5566cf);});}beforeEach(()=>{jest[_0x9e81('0x8')]();jest['useFakeTimers']();_0x1880cd=require(_0x9e81('0x7'));_0x555b99=require(_0x9e81('0x2'));_0x157d62=0x0;});it(_0x9e81('0x1a'),()=>{const _0x596a62=jest['fn'](()=>{expect(++_0x157d62)[_0x9e81('0x6')](0x1);return new Promise(_0x1bdf91=>_0x1bdf91());});_0x1880cd[_0x9e81('0x16')]({'gen':_0x596a62,'name':_0x9e81('0x1b')});jest[_0x9e81('0x11')]();expectToBeCalledOnce(_0x596a62);});it(_0x9e81('0x1c'),()=>{const _0x3de482=jest['fn'](()=>{expect(++_0x157d62)[_0x9e81('0x6')](0x1);return new Promise(_0x4f31ce=>{_0x1880cd[_0x9e81('0x16')]({'gen':_0x244d66,'name':_0x9e81('0x1d')})[_0x9e81('0x1e')](_0x4f31ce);});});const _0x244d66=jest['fn'](()=>{expect(++_0x157d62)[_0x9e81('0x6')](0x2);return new Promise(_0x37c565=>_0x37c565());});_0x1880cd[_0x9e81('0x16')]({'gen':_0x3de482,'name':_0x9e81('0x1b')});jest[_0x9e81('0x11')]();expectToBeCalledOnce(_0x3de482);expectToBeCalledOnce(_0x244d66);});it(_0x9e81('0x1f'),()=>{const _0x21346a=_0x547a6f(0x1);const _0x18debb=jest['fn'](()=>{expect(++_0x157d62)[_0x9e81('0x6')](0x2);return new Promise(_0x33f45c=>{setTimeout(()=>{_0x1880cd[_0x9e81('0x16')](_0x549841)[_0x9e81('0x1e')](_0x33f45c);},0x1);});});const _0x549841=_0x547a6f(0x3);_0x1880cd[_0x9e81('0x16')](_0x21346a);_0x1880cd[_0x9e81('0x16')]({'gen':_0x18debb,'name':'gen2'});jest[_0x9e81('0x20')]();expectToBeCalledOnce(_0x21346a);expectToBeCalledOnce(_0x18debb);const _0x2c9a7c=_0x1880cd[_0x9e81('0xe')]();jest['runAllTimers']();jest['runAllTimers']();expect(_0x549841)['not'][_0x9e81('0x10')]();_0x1880cd[_0x9e81('0x14')](_0x2c9a7c);jest['runAllTimers']();expectToBeCalledOnce(_0x549841);});it('should\x20execute\x20tasks\x20in\x20loop\x20within\x20deadline',()=>{_0x1880cd[_0x9e81('0x21')](0x64);_0x555b99[_0x9e81('0x22')][_0x9e81('0x23')](0xa);const _0x37afbb=_0x547a6f(0x1);const _0x3f9e7f=_0x547a6f(0x2);_0x1880cd['runAfterInteractions'](_0x37afbb);_0x1880cd[_0x9e81('0x16')](_0x3f9e7f);jest[_0x9e81('0x20')]();expectToBeCalledOnce(_0x37afbb);expectToBeCalledOnce(_0x3f9e7f);});it(_0x9e81('0x24'),()=>{_0x1880cd[_0x9e81('0x21')](0x64);_0x555b99[_0x9e81('0x22')]['mockReturnValue'](0xc8);const _0x2ed462=_0x547a6f(0x1);const _0x4f0f13=_0x547a6f(0x2);_0x1880cd[_0x9e81('0x16')](_0x2ed462);_0x1880cd[_0x9e81('0x16')](_0x4f0f13);jest['runOnlyPendingTimers']();expectToBeCalledOnce(_0x2ed462);expect(_0x4f0f13)[_0x9e81('0xf')]['toBeCalled']();jest[_0x9e81('0x20')]();jest[_0x9e81('0x20')]();expectToBeCalledOnce(_0x4f0f13);});const _0x3d22fc=_0xb84ece=>{jest['useRealTimers']();const _0x3e0871=_0x547a6f(0x1);const _0x136bd4=jest['fn'](()=>{expect(++_0x157d62)['toBe'](0x2);return new Promise(_0x3443f8=>{_0x1880cd['runAfterInteractions'](_0x14e57e);setTimeout(()=>{_0x1880cd[_0x9e81('0x16')]({'gen':_0x37ffb7,'name':_0x9e81('0x25')})[_0x9e81('0x1e')](_0x3443f8);},0x1);});});const _0x14e57e=_0x547a6f(0x3);const _0x37ffb7=jest['fn'](()=>{expect(++_0x157d62)[_0x9e81('0x6')](0x4);return new Promise(_0x4bf8ed=>{_0x1880cd[_0x9e81('0x16')](_0x307f1e)['then'](_0x4bf8ed);});});const _0x307f1e=_0x547a6f(0x5);const _0x166ab0=_0x547a6f(0x6);_0x1880cd[_0x9e81('0x16')](_0x3e0871);_0x1880cd[_0x9e81('0x16')]({'gen':_0x136bd4,'name':'gen2'});_0x1880cd[_0x9e81('0x16')](_0x166ab0);setTimeout(()=>{expectToBeCalledOnce(_0x3e0871);expectToBeCalledOnce(_0x136bd4);expectToBeCalledOnce(_0x14e57e);expectToBeCalledOnce(_0x37ffb7);expectToBeCalledOnce(_0x307f1e);expectToBeCalledOnce(_0x166ab0);_0xb84ece();},0x64);};it(_0x9e81('0x26'),()=>{return new Promise(_0x3d22fc);});it(_0x9e81('0x27'),()=>{_0x1880cd[_0x9e81('0x21')](0x64);_0x555b99[_0x9e81('0x22')][_0x9e81('0x23')](0xc8);return new Promise(_0x3d22fc);});});