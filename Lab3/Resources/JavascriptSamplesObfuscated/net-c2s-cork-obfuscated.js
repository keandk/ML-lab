var _0x12c9=['buf','alloc','utf8','repeat','asc','ascii','pipe','listen','connect','start','drain','received','exit','cork','write','writable','function','prototype','once','emit','prependListener','../common.js','net','PORT','createBenchmark'];(function(_0x4d1222,_0x169190){var _0x27b814=function(_0x1b51e5){while(--_0x1b51e5){_0x4d1222['push'](_0x4d1222['shift']());}};_0x27b814(++_0x169190);}(_0x12c9,0x141));var _0x1aa5=function(_0xd8b752,_0x1c339d){_0xd8b752=_0xd8b752-0x0;var _0x31fb14=_0x12c9[_0xd8b752];return _0x31fb14;};// Test the speed of .pipe() with sockets
'use strict';const common=require(_0x1aa5('0x0'));const net=require(_0x1aa5('0x1'));const PORT=common[_0x1aa5('0x2')];const bench=common[_0x1aa5('0x3')](main,{'len':[0x4,0x8,0x10,0x20,0x40,0x80,0x200,0x400],'type':['buf'],'dur':[0x5]});var chunk;var encoding;function main({dur,len,type}){switch(type){case _0x1aa5('0x4'):chunk=Buffer[_0x1aa5('0x5')](len,'x');break;case'utf':encoding=_0x1aa5('0x6');chunk='Ã¼'[_0x1aa5('0x7')](len/0x2);break;case _0x1aa5('0x8'):encoding=_0x1aa5('0x9');chunk='x'[_0x1aa5('0x7')](len);break;default:throw new Error('invalid\x20type:\x20'+type);}const _0x521787=new Writer();const _0xb0780a=net['createServer'](_0x169cf9=>{_0x169cf9[_0x1aa5('0xa')](_0x521787);});_0xb0780a[_0x1aa5('0xb')](PORT,()=>{const _0x2d2b03=net[_0x1aa5('0xc')](PORT);_0x2d2b03['on']('connect',()=>{bench[_0x1aa5('0xd')]();_0x2d2b03['on'](_0x1aa5('0xe'),_0x5ea796);_0x5ea796();setTimeout(()=>{const _0x49926b=_0x521787[_0x1aa5('0xf')];const _0x2e1c8c=_0x49926b*0x8/(0x400*0x400*0x400);bench['end'](_0x2e1c8c);process[_0x1aa5('0x10')](0x0);},dur*0x3e8);function _0x5ea796(){_0x2d2b03[_0x1aa5('0x11')]();while(_0x2d2b03[_0x1aa5('0x12')](chunk,encoding)){}_0x2d2b03['uncork']();}});});}function Writer(){this[_0x1aa5('0xf')]=0x0;this[_0x1aa5('0x13')]=!![];}Writer['prototype']['write']=function(_0x4818df,_0x56bbea,_0x2b8fb1){this['received']+=_0x4818df['length'];if(typeof _0x56bbea==='function')_0x56bbea();else if(typeof _0x2b8fb1===_0x1aa5('0x14'))_0x2b8fb1();return!![];};Writer[_0x1aa5('0x15')]['on']=function(){};Writer[_0x1aa5('0x15')][_0x1aa5('0x16')]=function(){};Writer[_0x1aa5('0x15')][_0x1aa5('0x17')]=function(){};Writer['prototype'][_0x1aa5('0x18')]=function(){};