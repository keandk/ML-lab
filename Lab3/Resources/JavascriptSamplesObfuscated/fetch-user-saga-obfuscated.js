var _0x31e1=['fetchProfileForUser','fetchUser'];(function(_0x5ac196,_0x56e27a){var _0x48dc4c=function(_0x1d2900){while(--_0x1d2900){_0x5ac196['push'](_0x5ac196['shift']());}};_0x48dc4c(++_0x56e27a);}(_0x31e1,0xbb));var _0x49ae=function(_0x18f71f,_0x1693ea){_0x18f71f=_0x18f71f-0x0;var _0x233e4e=_0x31e1[_0x18f71f];return _0x233e4e;};import{call,put,takeEvery}from'redux-saga/effects';import{fetchUserComplete,fetchUserError,fetchProfileForUserError,fetchProfileForUserComplete}from'./';import{getSessionUser,getUserProfile}from'../utils/ajax';import{jwt}from'./cookieValues';function*fetchSessionUser(){if(!jwt){yield put(fetchUserComplete({'user':{},'username':''}));return;}try{const {data:{user={},result='',sessionMeta={}}}=yield call(getSessionUser);const appUser=user[result]||{};yield put(fetchUserComplete({'user':appUser,'username':result,'sessionMeta':sessionMeta}));}catch(_0x3ece28){yield put(fetchUserError(_0x3ece28));}}function*fetchOtherUser({payload:maybeUser=''}){try{const maybeUserLC=maybeUser['toLowerCase']();const {data}=yield call(getUserProfile,maybeUserLC);const {entities:{user={}}={},result=''}=data;const otherUser=user[result]||{};yield put(fetchProfileForUserComplete({'user':otherUser,'username':result}));}catch(_0x1936a5){yield put(fetchProfileForUserError(_0x1936a5));}}export function createFetchUserSaga(types){return[takeEvery(types[_0x49ae('0x0')],fetchSessionUser),takeEvery(types[_0x49ae('0x1')],fetchOtherUser)];}